<!DOCTYPE html>
    <html lang="en">
      <head>
        <link rel="stylesheet" type="text/css" href="/assets/static/src_styles_global-00f5cfaf.DBgb4BRi.css">
        <link rel="stylesheet" type="text/css" href="/assets/static/style-f8c9f72e.C6uyB5YP.css">
        <link rel="stylesheet" type="text/css" href="/assets/static/src_styles_global-00f5cfaf.Dc7HkZwY.css">
        <meta charset="UTF-8" />
        
        
    
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
    
    
    
  
        
      </head>
      <body>
        
        <div id="root"><link rel="preload" as="image" href="/img/logo-icon.svg"/><div class="flex flex-col h-screen"><nav class="sticky top-0 z-50 bg-primary text-primary-foreground shadow-md"><div class="flex items-center h-16 px-4"><a href="/" class="flex h-10 mr-4"><img src="/img/logo-icon.svg" alt="FormatJS" class="h-10 cursor-pointer"/></a><div class="flex flex-1 md:hidden"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:text-accent-foreground h-9 w-9 text-primary-foreground hover:bg-primary/90" aria-label="navigation menu" type="button" id="radix-:R9:" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-6 w-6"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div><div class="hidden md:flex flex-1 gap-6 items-center"><a href="/docs/getting-started/installation" class="text-primary-foreground no-underline cursor-pointer hover:underline">Docs</a><a href="/docs/react-intl" class="text-primary-foreground no-underline cursor-pointer hover:underline">API References</a><a href="/docs/polyfills" class="text-primary-foreground no-underline cursor-pointer hover:underline">Polyfills</a><a href="/docs/tooling/cli" class="text-primary-foreground no-underline cursor-pointer hover:underline">Tooling</a></div><div class="mr-4 flex-1 sm:flex-initial"><button class="flex items-center gap-2 h-10 px-3 rounded-lg border border-border bg-popover text-sm text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search h-4 w-4"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg><span class="hidden sm:inline">Search docs...</span><kbd class="hidden sm:inline-flex items-center gap-1 rounded border border-border bg-muted px-1.5 text-[10px] font-medium text-muted-foreground"><span class="text-xs">⌘</span>K</kbd></button></div><a href="https://github.com/formatjs/formatjs" target="_blank" rel="noopener noreferrer" class="hidden md:flex items-center gap-2 text-primary-foreground no-underline">GitHub<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link h-4 w-4"><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></svg></a></div></nav><div class="flex flex-grow overflow-hidden"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 text-primary-foreground shadow h-9 w-9 fixed top-[60px] left-2.5 z-[1200] md:hidden bg-primary hover:bg-primary/90" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R6:" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-5 w-5"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><aside class="hidden md:block w-[280px] shrink-0 border-r border-border top-16 h-[calc(100%-64px)] fixed overflow-auto z-[1000]"><div class="overflow-auto h-full"><nav class="py-2"><h3 class="px-4 py-2 text-sm font-semibold text-foreground/70 uppercase tracking-wide">Getting Started</h3><ul class="space-y-1"><li><a href="/docs/getting-started/installation" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Installation</a></li><li><a href="/docs/getting-started/message-declaration" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Message Declaration</a></li><li><a href="/docs/getting-started/message-extraction" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Message Extraction</a></li><li><a href="/docs/getting-started/message-distribution" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Message Distribution</a></li><li><a href="/docs/getting-started/application-workflow" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Application Workflow</a></li></ul></nav><div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full"></div><nav class="py-2"><h3 class="px-4 py-2 text-sm font-semibold text-foreground/70 uppercase tracking-wide">Core Concepts</h3><ul class="space-y-1"><li><a href="/docs/core-concepts/basic-internationalization-principles" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Basic Internationalization Principles</a></li><li><a href="/docs/core-concepts/icu-syntax" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">ICU Message Syntax</a></li></ul></nav><div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full"></div><nav class="py-2"><h3 class="px-4 py-2 text-sm font-semibold text-foreground/70 uppercase tracking-wide">React Intl</h3><ul class="space-y-1"><li><a href="/docs/react-intl" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Overview</a></li><li><a href="/docs/react-intl/api" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">API</a></li><li><a href="/docs/react-intl/components" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Components</a></li><li><a href="/docs/react-intl/upgrade-guide-2.x" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Upgrade Guide 2.x</a></li><li><a href="/docs/react-intl/upgrade-guide-3.x" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Upgrade Guide 3.x</a></li><li><a href="/docs/react-intl/upgrade-guide-4.x" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Upgrade Guide 4.x</a></li><li><a href="/docs/react-intl/upgrade-guide-5.x" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Upgrade Guide 5.x</a></li></ul></nav><div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full"></div><nav class="py-2"><h3 class="px-4 py-2 text-sm font-semibold text-foreground/70 uppercase tracking-wide">Polyfills</h3><ul class="space-y-1"><li><a href="/docs/polyfills" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Overview</a></li><li><a href="/docs/polyfills/intl-datetimeformat" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Intl.DateTimeFormat</a></li><li><a href="/docs/polyfills/intl-displaynames" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Intl.DisplayNames</a></li><li><a href="/docs/polyfills/intl-durationformat" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Intl.DurationFormat</a></li><li><a href="/docs/polyfills/intl-getcanonicallocales" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Intl.GetCanonicalLocales</a></li><li><a href="/docs/polyfills/intl-listformat" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Intl.ListFormat</a></li><li><a href="/docs/polyfills/intl-locale" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Intl.Locale</a></li><li><a href="/docs/polyfills/intl-localematcher" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Intl.LocaleMatcher</a></li><li><a href="/docs/polyfills/intl-numberformat" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Intl.NumberFormat</a></li><li><a href="/docs/polyfills/intl-pluralrules" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Intl.PluralRules</a></li><li><a href="/docs/polyfills/intl-relativetimeformat" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Intl.RelativeTimeFormat</a></li><li><a href="/docs/polyfills/intl-segmenter" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Intl.Segmenter</a></li></ul></nav><div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full"></div><nav class="py-2"><h3 class="px-4 py-2 text-sm font-semibold text-foreground/70 uppercase tracking-wide">Tooling</h3><ul class="space-y-1"><li><a href="/docs/tooling/cli" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">CLI</a></li><li><a href="/docs/tooling/babel-plugin" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Babel Plugin</a></li><li><a href="/docs/tooling/ts-transformer" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">TypeScript Transformer</a></li><li><a href="/docs/tooling/swc-plugin" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">SWC Plugin</a></li><li><a href="/docs/tooling/linter" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">ESLint Plugin</a></li></ul></nav><div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full"></div><nav class="py-2"><h3 class="px-4 py-2 text-sm font-semibold text-foreground/70 uppercase tracking-wide">Guides</h3><ul class="space-y-1"><li><a href="/docs/guides/testing-with-react-intl" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground bg-accent text-accent-foreground font-medium">Testing with React Intl</a></li><li><a href="/docs/guides/runtime-requirements" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Runtime Requirements</a></li><li><a href="/docs/guides/advanced-usage" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Advanced Usage</a></li><li><a href="/docs/guides/distribute-libraries" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Distribute Libraries</a></li><li><a href="/docs/guides/develop" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Development</a></li></ul></nav><div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full"></div><nav class="py-2"><h3 class="px-4 py-2 text-sm font-semibold text-foreground/70 uppercase tracking-wide">Other APIs</h3><ul class="space-y-1"><li><a href="/docs/vue-intl" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Vue Intl</a></li><li><a href="/docs/intl-messageformat" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">Intl MessageFormat</a></li><li><a href="/docs/icu-messageformat-parser" class="block px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground text-muted-foreground">ICU MessageFormat Parser</a></li></ul></nav></div></aside><main class="flex-grow p-6 md:ml-[280px] overflow-auto"><nav aria-label="breadcrumb" class="mb-4"><ol class="flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5"><li class="inline-flex items-center gap-1.5"><a class="transition-colors hover:text-foreground" href="/">Home</a></li><li role="presentation" aria-hidden="true" class="[&amp;&gt;svg]:size-3.5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg></li><li class="inline-flex items-center gap-1.5"><a class="transition-colors hover:text-foreground" href="/docs">Docs</a></li><li role="presentation" aria-hidden="true" class="[&amp;&gt;svg]:size-3.5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg></li><li class="inline-flex items-center gap-1.5"><a class="transition-colors hover:text-foreground" href="/docs/guides">Guides</a></li><li role="presentation" aria-hidden="true" class="[&amp;&gt;svg]:size-3.5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg></li><li class="inline-flex items-center gap-1.5"><span role="link" aria-disabled="true" aria-current="page" class="font-normal text-foreground">Testing With React Intl</span></li></ol></nav><article class="doc-article"><h2 id="intl-apis-requirements" class="text-2xl font-bold mt-6 mb-3 hover:[&amp;_.header-link]:visible"><code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">Intl</code> APIs requirements<a href="#intl-apis-requirements" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h2>
<p class="mb-4 leading-7">React Intl uses the built-in <a href="https://mdn.io/intl" class="text-primary hover:underline"><code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">Intl</code> APIs</a> in JavaScript. Make sure your environment satisfy the requirements listed in <a href="../guides/runtime-requirements.md" class="text-primary hover:underline"><code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">Intl</code> APIs requirements</a></p>
<h3 id="mocha" class="text-xl font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Mocha<a href="#mocha" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h3>
<p class="mb-4 leading-7">If you&#x27;re using <a href="https://mochajs.org/" class="text-primary hover:underline">Mocha</a> as your test runner and testing on older JavaScript runtimes, you can load the Intl Polyfill via the CLI or by adding a <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">&lt;script&gt;</code> in the browser.</p>
<h4 id="command-line" class="text-lg font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Command Line<a href="#command-line" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h4>
<p class="mb-4 leading-7">Run <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">mocha</code> and auto-polyfill the runtime if needed:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line">$ mocha --recursive test/
</span></code></pre>
<h4 id="browser" class="text-lg font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Browser<a href="#browser" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h4>
<p class="mb-4 leading-7">You can either load the polyfill in the browser from <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">node_modules</code> or use the <a href="https://polyfill-fastly.io/v2/docs/" class="text-primary hover:underline">polyfill-fastly.io</a> service from the Financial Times:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://polyfill-fastly.io/v2/polyfill.min.js?features=Intl,Intl.~locale.en-US<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</span></code></pre>
<h2 id="shallow-rendering" class="text-2xl font-bold mt-6 mb-3 hover:[&amp;_.header-link]:visible">Shallow Rendering<a href="#shallow-rendering" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h2>
<p class="mb-4 leading-7">React&#x27;s <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">react-addons-test-utils</code> package contains a <a href="http://facebook.github.io/react/docs/test-utils.html#shallow-rendering" class="text-primary hover:underline">shallow rendering</a> feature which you might use to test your app&#x27;s React components. If a component you&#x27;re trying to test using <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">ReactShallowRenderer</code> uses React Intl — specifically <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">injectIntl()</code> — you&#x27;ll need to do extra setup work because React Intl components expect to be nested inside an <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">&lt;IntlProvider&gt;</code>.</p>
<h3 id="testing-example-components-that-use-react-intl" class="text-xl font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Testing Example Components That Use React Intl<a href="#testing-example-components-that-use-react-intl" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h3>
<p class="mb-4 leading-7">The following examples will assume <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">mocha</code>, <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">expect</code>, and <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">expect-jsx</code> test framework.</p>
<h4 id="shortdate-basic" class="text-lg font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">ShortDate (Basic)<a href="#shortdate-basic" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h4>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">ShortDate</span> <span class="token operator">=</span> props <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormattedDate</span></span>
</span></span><span class="code-line"><span class="token tag">    <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token property-access">date</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">    <span class="token attr-name">year</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numeric<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">    <span class="token attr-name">month</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>short<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">    <span class="token attr-name">day</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2-digit<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">  <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token maybe-class-name">ShortDate</span>
</span></code></pre>
<p class="mb-4 leading-7">Testing the <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">&lt;ShortDate&gt;</code> example component is no different than testing any other basic component in your app using React&#x27;s shallow rendering:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line">
</span><span class="code-line">expect<span class="token punctuation">.</span><span class="token method function property-access">extend</span><span class="token punctuation">(</span>expectJSX<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;&lt;ShortDate&gt;&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;renders&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> renderer <span class="token operator">=</span> <span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    renderer<span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ShortDate</span></span> <span class="token attr-name">date</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>date<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">expect</span><span class="token punctuation">(</span>renderer<span class="token punctuation">.</span><span class="token method function property-access">getRenderOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toEqualJSX</span><span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormattedDate</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>date<span class="token punctuation">}</span></span> <span class="token attr-name">year</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numeric<span class="token punctuation">&quot;</span></span> <span class="token attr-name">month</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>short<span class="token punctuation">&quot;</span></span> <span class="token attr-name">day</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2-digit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre>
<h2 id="dom-rendering" class="text-2xl font-bold mt-6 mb-3 hover:[&amp;_.header-link]:visible">DOM Rendering<a href="#dom-rendering" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h2>
<p class="mb-4 leading-7">If you use the DOM in your tests, you need to supply the <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">IntlProvider</code> context to your components using composition:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line"><span class="token keyword">let</span> element <span class="token operator">=</span> <span class="token maybe-class-name">ReactTestUtils</span><span class="token punctuation">.</span><span class="token method function property-access">renderIntoDocument</span><span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IntlProvider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyComponent</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">IntlProvider</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span></code></pre>
<p class="mb-4 leading-7">However this means that the <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">element</code> reference is now pointing to the <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">IntlProvider</code> instead of your component. To retrieve a reference to your wrapped component, you can use &quot;refs&quot; with these changes to the code:</p>
<p class="mb-4 leading-7">In your component, remember to add <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">{forwardRef: true}</code> when calling <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">injectIntl()</code>:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line"><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Component</span></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token spread operator">...</span>
</span><span class="code-line">  <span class="token method function property-access">myClassFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">injectIntl</span><span class="token punctuation">(</span><span class="token maybe-class-name">MyComponent</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>forwardRef<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p class="mb-4 leading-7">In your test, add a &quot;ref&quot; to extract the reference to your tested component:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token maybe-class-name">ReactTestUtils</span><span class="token punctuation">.</span><span class="token method function property-access">renderIntoDocument</span><span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IntlProvider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyComponent</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>element<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">IntlProvider</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span></code></pre>
<p class="mb-4 leading-7">You can now access the wrapped component instance from <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">element</code> like this:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line">element<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token method function property-access">myClassFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre>
<h3 id="helper-function" class="text-xl font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Helper function<a href="#helper-function" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h3>
<p class="mb-4 leading-7">Since you will have to do this in all your unit tests, you should probably wrap that setup in a <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">render</code> function like this:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line"><span class="token keyword">function</span> <span class="token function">renderWithIntl</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> instance
</span><span class="code-line">
</span><span class="code-line">  <span class="token maybe-class-name">ReactTestUtils</span><span class="token punctuation">.</span><span class="token method function property-access">renderIntoDocument</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IntlProvider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token punctuation">{</span><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">cloneElement</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">        ref<span class="token operator">:</span> instance<span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">IntlProvider</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> instance
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p class="mb-4 leading-7">You can now use this in your tests like this:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token function">renderWithIntl</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyElement</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>element<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">);
</span></span><span class="code-line"><span class="token plain-text">element.current.myClassFn();
</span></span></code></pre>
<h2 id="testing-libraryreact" class="text-2xl font-bold mt-6 mb-3 hover:[&amp;_.header-link]:visible">@testing-library/react<a href="#testing-libraryreact" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h2>
<p class="mb-4 leading-7">We recommend using <a href="https://testing-library.com/docs/react-testing-library/intro" class="text-primary hover:underline"><code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">@testing-library/react</code></a> for testing React components. Below is a helper function to wrap your components with <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">IntlProvider</code> for testing.</p>
<h3 id="helper-function-1" class="text-xl font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Helper function<a href="#helper-function-1" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h3>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line"><span class="token comment">// test-utils.tsx</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">interface</span> <span class="token class-name">RenderOptions</span> <span class="token punctuation">{</span>
</span><span class="code-line">  locale<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  messages<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">Record</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span>
</span><span class="code-line">  ui<span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ReactElement</span></span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    locale <span class="token operator">=</span> <span class="token string">&#x27;en&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    messages<span class="token operator">:</span> customMessages<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token spread operator">...</span>renderOptions
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token maybe-class-name">RenderOptions</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">function</span> <span class="token function">Wrapper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>children<span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ReactNode</span></span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IntlProvider</span></span> <span class="token attr-name">locale</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>locale<span class="token punctuation">}</span></span> <span class="token attr-name">messages</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>customMessages <span class="token operator">||</span> messages<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">IntlProvider</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">rtlRender</span><span class="token punctuation">(</span>ui<span class="token punctuation">,</span> <span class="token punctuation">{</span>wrapper<span class="token operator">:</span> <span class="token maybe-class-name">Wrapper</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>renderOptions<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// re-export everything</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token exports"><span class="token operator">*</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;@testing-library/react&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// override render method</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token exports"><span class="token punctuation">{</span>render<span class="token punctuation">}</span></span>
</span></code></pre>
<h3 id="usage" class="text-xl font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Usage<a href="#usage" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h3>
<p class="mb-4 leading-7">Create a file with the above helper in e.g. <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">test-utils.tsx</code> and import the methods you need in your tests.</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">Greeting</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-testid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>greeting<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormattedMessage</span></span>
</span></span><span class="code-line"><span class="token tag">      <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>greeting<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">      <span class="token attr-name">defaultMessage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Hello {name}!<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">      <span class="token attr-name">values</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">    <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;it should render FormattedMessage with the name&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Greeting</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>World<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token method function property-access">getByTestId</span><span class="token punctuation">(</span><span class="token string">&#x27;greeting&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveTextContent</span><span class="token punctuation">(</span><span class="token string">&#x27;Hello World!&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre>
<h2 id="jest" class="text-2xl font-bold mt-6 mb-3 hover:[&amp;_.header-link]:visible">Jest<a href="#jest" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h2>
<p class="mb-4 leading-7">Testing with Jest can be divided into two approaches: snapshot&#x27;s testing and DOM testing. Snapshot&#x27;s testing is a relatively new feature and works out of the box. If you&#x27;d like DOM testing you can use <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">@testing-library/react</code> as shown above or React&#x27;s TestUtils.</p>
<h3 id="snapshot-testing" class="text-xl font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Snapshot Testing<a href="#snapshot-testing" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h3>
<p class="mb-4 leading-7">Snapshot testing is a new feature of Jest that automatically generates text snapshots of your components and saves them on the disk so if the UI output changes, you get notified without manually writing any assertions on the component output. Use either helper function or mock as described below.</p>
<h4 id="helper-function-2" class="text-lg font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Helper function<a href="#helper-function-2" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h4>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> createComponentWithIntl <span class="token operator">=</span> <span class="token punctuation">(</span>children<span class="token punctuation">,</span> props <span class="token operator">=</span> <span class="token punctuation">{</span>locale<span class="token operator">:</span> <span class="token string">&#x27;en&#x27;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> renderer<span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IntlProvider</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token spread operator">...</span>props<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">IntlProvider</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> createComponentWithIntl
</span></code></pre>
<h4 id="usage-1" class="text-lg font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Usage<a href="#usage-1" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h4>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line">
</span><span class="code-line"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;app main should be rendered&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> component <span class="token operator">=</span> <span class="token function">createComponentWithIntl</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AppMain</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">let</span> tree <span class="token operator">=</span> component<span class="token punctuation">.</span><span class="token method function property-access">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  tree<span class="token punctuation">.</span><span class="token property-access">props</span><span class="token punctuation">.</span><span class="token method function property-access">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  tree <span class="token operator">=</span> component<span class="token punctuation">.</span><span class="token method function property-access">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre>
<p class="mb-4 leading-7">You can find runnable example <a href="https://github.com/formatjs/formatjs/tree/master/packages/react-intl/examples/jest-snapshot-testing" class="text-primary hover:underline">here</a> and more info about Jest <a href="http://facebook.github.io/jest/" class="text-primary hover:underline">here</a>.</p>
<h3 id="dom-testing" class="text-xl font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">DOM Testing<a href="#dom-testing" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h3>
<p class="mb-4 leading-7">If you want to use Jest with DOM Testing, refer to the <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">@testing-library/react</code> section above or check the official Jest <a href="http://facebook.github.io/jest/docs/tutorial-react.html#dom-testing" class="text-primary hover:underline">documentation</a>.</p>
<h2 id="vitest" class="text-2xl font-bold mt-6 mb-3 hover:[&amp;_.header-link]:visible">Vitest<a href="#vitest" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h2>
<p class="mb-4 leading-7"><a href="https://vitest.dev/" class="text-primary hover:underline">Vitest</a> is a blazing fast unit test framework powered by Vite. Testing React components with <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">react-intl</code> in Vitest works similarly to Jest, and you can use the same <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">@testing-library/react</code> helper functions.</p>
<h3 id="setup" class="text-xl font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Setup<a href="#setup" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h3>
<p class="mb-4 leading-7">First, ensure you have the necessary dependencies:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> vitest @testing-library/react @testing-library/jest-dom happy-dom
</span></code></pre>
<h3 id="configuration" class="text-xl font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Configuration<a href="#configuration" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h3>
<p class="mb-4 leading-7">Add a <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">vitest.config.ts</code> file to your project:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">react</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  test<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    environment<span class="token operator">:</span> <span class="token string">&#x27;happy-dom&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    setupFiles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;./vitest.setup.ts&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre>
<p class="mb-4 leading-7">Create a <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">vitest.setup.ts</code> file to add global test utilities:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line"><span class="token keyword">import</span> <span class="token string">&#x27;@testing-library/jest-dom/vitest&#x27;</span>
</span></code></pre>
<h3 id="testing-with-vitest" class="text-xl font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Testing with Vitest<a href="#testing-with-vitest" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h3>
<p class="mb-4 leading-7">You can use the same test helper function from the <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">@testing-library/react</code> section. Here&#x27;s a complete example:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line"><span class="token comment">// test-utils.tsx</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">interface</span> <span class="token class-name">RenderOptions</span> <span class="token punctuation">{</span>
</span><span class="code-line">  locale<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  messages<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">Record</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span>
</span><span class="code-line">  ui<span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ReactElement</span></span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    locale <span class="token operator">=</span> <span class="token string">&#x27;en&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    messages<span class="token operator">:</span> customMessages<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token spread operator">...</span>renderOptions
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token maybe-class-name">RenderOptions</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">function</span> <span class="token function">Wrapper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>children<span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ReactNode</span></span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IntlProvider</span></span> <span class="token attr-name">locale</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>locale<span class="token punctuation">}</span></span> <span class="token attr-name">messages</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>customMessages <span class="token operator">||</span> messages<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">IntlProvider</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">rtlRender</span><span class="token punctuation">(</span>ui<span class="token punctuation">,</span> <span class="token punctuation">{</span>wrapper<span class="token operator">:</span> <span class="token maybe-class-name">Wrapper</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>renderOptions<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// re-export everything</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token exports"><span class="token operator">*</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;@testing-library/react&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// override render method</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token exports"><span class="token punctuation">{</span>render<span class="token punctuation">}</span></span>
</span></code></pre>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line"><span class="token comment">// MyComponent.test.tsx</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">PriceDisplay</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>amount<span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>amount<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormattedMessage</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price.label<span class="token punctuation">&quot;</span></span> <span class="token attr-name">defaultMessage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Price:<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">{</span><span class="token string">&#x27; &#x27;</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormattedNumber</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>amount<span class="token punctuation">}</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css">currency</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">currency</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>USD<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;PriceDisplay&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;should render price with formatted currency&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PriceDisplay</span></span> <span class="token attr-name">amount</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">99.99</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">expect</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token method function property-access">getByText</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Price:</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeInTheDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">expect</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token method function property-access">getByText</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token special-escape escape">\$</span>99<span class="token special-escape escape">\.</span>99</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeInTheDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;should support different locales&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PriceDisplay</span></span> <span class="token attr-name">amount</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">99.99</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>locale<span class="token operator">:</span> <span class="token string">&#x27;de-DE&#x27;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token comment">// German locale formatting</span>
</span><span class="code-line">    <span class="token function">expect</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token method function property-access">getByText</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">99,99</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeInTheDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre>
<h3 id="snapshot-testing-with-vitest" class="text-xl font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Snapshot Testing with Vitest<a href="#snapshot-testing-with-vitest" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h3>
<p class="mb-4 leading-7">Vitest also supports snapshot testing similar to Jest:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">DateDisplay</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>date<span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>date<span class="token operator">:</span> <span class="token known-class-name class-name">Date</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormattedDate</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>date<span class="token punctuation">}</span></span> <span class="token attr-name">year</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numeric<span class="token punctuation">&quot;</span></span> <span class="token attr-name">month</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>long<span class="token punctuation">&quot;</span></span> <span class="token attr-name">day</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numeric<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;DateDisplay&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;should match snapshot&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span>container<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DateDisplay</span></span> <span class="token attr-name">date</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">&#x27;2024-01-15&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">expect</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre>
<h3 id="running-tests" class="text-xl font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Running Tests<a href="#running-tests" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h3>
<p class="mb-4 leading-7">Add test scripts to your <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">package.json</code>:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vitest&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;test:ui&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vitest --ui&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;test:coverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vitest --coverage&quot;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p class="mb-4 leading-7">Then run your tests:</p>
<pre class="p-4 mb-4 overflow-auto bg-[#2d2d2d] text-gray-200 rounded-md"><code class="font-mono text-sm"><span class="code-line"><span class="token function">npm</span> run <span class="token builtin class-name">test</span>
</span></code></pre>
<p class="mb-4 leading-7">For more information, check out the <a href="https://vitest.dev/" class="text-primary hover:underline">Vitest documentation</a>.</p>
<h2 id="storybook" class="text-2xl font-bold mt-6 mb-3 hover:[&amp;_.header-link]:visible">Storybook<a href="#storybook" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h2>
<h3 id="intl" class="text-xl font-semibold mt-4 mb-2 hover:[&amp;_.header-link]:visible">Intl<a href="#intl" class="header-link invisible ml-2 text-primary no-underline text-sm">#</a></h3>
<p class="mb-4 leading-7">If you want to use <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">react-intl</code> inside of <a href="https://storybooks.js.org" class="text-primary hover:underline">Storybook</a> you can use <a href="https://github.com/truffls/storybook-addon-intl" class="text-primary hover:underline"><code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">storybook-addon-intl</code></a> which provides an easy to use wrapper for <code class="px-1.5 py-0.5 rounded bg-muted text-muted-foreground font-mono text-sm">react-intl</code> including a locale switcher so you can test your component in all provided languages.</p></article></main></div></div></div>
        
        <script id="vike_pageContext" type="application/json">{"pageId":"\\/src\\/pages\\/docs\\/@path","routeParams":{"path":"guides\\/testing-with-react-intl"}}</script>
        <script id="vike_globalContext" type="application/json">{}</script>
        <script src="/assets/entries/entry-client-routing.Cd4HZJ1Z.js" type="module" async></script>
        <link rel="modulepreload" href="/assets/entries/src_pages_docs_-path.Dc4FS0iC.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/assets/chunks/chunk-D0SmAfC6.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/assets/chunks/chunk-B6b-fCh-.js" as="script" type="text/javascript">
      </body>
    </html>