<!DOCTYPE html>
    <html lang="en">
      <head>
        <link rel="stylesheet" type="text/css" href="/assets/static/src_styles_global-00f5cfaf.CXa4PXwI.css">
        <link rel="stylesheet" type="text/css" href="/assets/static/style-f8c9f72e.C6uyB5YP.css">
        <link rel="stylesheet" type="text/css" href="/assets/static/src_styles_global-00f5cfaf.D2wDgbW7.css">
        <meta charset="UTF-8" />
        
        
    <title>Bazel | FormatJS</title><meta property="og:title" content="Bazel | FormatJS" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Bazel | FormatJS</title><meta name="description" content="Bazel rules for FormatJS - Internationalize your web apps with Bazel build integration."/><meta property="og:title" content="Bazel | FormatJS"/><meta property="og:description" content="Bazel rules for FormatJS - Internationalize your web apps with Bazel build integration."/><meta property="og:type" content="article"/><meta property="og:url" content="https://formatjs.io/docs/tooling/bazel"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Bazel | FormatJS"/><meta name="twitter:description" content="Bazel rules for FormatJS - Internationalize your web apps with Bazel build integration."/><link rel="canonical" href="https://formatjs.io/docs/tooling/bazel"/>
<meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-4H6ZM973P2"></script><link rel="icon" href="/img/logo-icon.svg" type="image/svg+xml"/><meta name="theme-color" content="#6f3c97"/><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-4H6ZM973P2');
          </script>
    
    <meta name="description" content="Bazel rules for FormatJS - Internationalize your web apps with Bazel build integration." /><meta property="og:description" content="Bazel rules for FormatJS - Internationalize your web apps with Bazel build integration." />
    
  
        
      </head>
      <body>
        
        <div id="root"><link rel="preload" as="image" href="/img/logo-icon.svg"/><div class="flex flex-col h-screen bg-gradient-to-br from-gray-950 via-background to-gray-950"><nav class="sticky top-0 z-50 bg-gradient-to-r from-purple-600/90 via-purple-700/90 to-indigo-700/90 backdrop-blur-lg border-b border-white/10 shadow-xl"><div class="max-w-7xl mx-auto flex items-center h-16 px-4 lg:px-6"><a href="/" class="flex items-center gap-3 mr-8 group"><div class="relative"><div class="absolute inset-0 bg-white/20 rounded-lg blur-md group-hover:bg-white/30 transition-all"></div><img src="/img/logo-icon.svg" alt="FormatJS" class="relative h-8 w-8 transition-transform group-hover:scale-110"/></div><span class="hidden sm:block text-xl font-bold text-white tracking-tight">FormatJS</span></a><div class="flex flex-1 md:hidden"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:text-accent-foreground h-9 w-9 text-white hover:bg-white/10" aria-label="navigation menu" type="button" id="radix-_R_9_" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-5 w-5"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div><div class="hidden md:flex flex-1 gap-1 items-center"><a href="/docs/getting-started/installation" class="px-4 py-2 text-sm font-medium text-white/90 no-underline rounded-lg transition-all hover:bg-white/10 hover:text-white cursor-pointer">Docs</a><a href="/docs/react-intl" class="px-4 py-2 text-sm font-medium text-white/90 no-underline rounded-lg transition-all hover:bg-white/10 hover:text-white cursor-pointer">API References</a><a href="/docs/polyfills" class="px-4 py-2 text-sm font-medium text-white/90 no-underline rounded-lg transition-all hover:bg-white/10 hover:text-white cursor-pointer">Polyfills</a><a href="/docs/tooling/cli" class="px-4 py-2 text-sm font-medium text-white/90 no-underline rounded-lg transition-all hover:bg-white/10 hover:text-white cursor-pointer">Tooling</a></div><div class="mr-3 flex-1 sm:flex-initial"><button class="flex items-center gap-2 h-10 px-3 rounded-lg border border-border bg-popover text-sm text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search h-4 w-4"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg><span class="hidden sm:inline">Search docs...</span><kbd class="hidden sm:inline-flex items-center gap-1 rounded border border-border bg-muted px-1.5 text-[10px] font-medium text-muted-foreground"><span class="text-xs">âŒ˜</span>K</kbd></button></div><a href="https://github.com/formatjs/formatjs" target="_blank" rel="noopener noreferrer" class="hidden md:flex items-center gap-2 px-4 py-2 text-sm font-medium text-white/90 no-underline rounded-lg transition-all hover:bg-white/10 hover:text-white group"><span>GitHub</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link h-4 w-4 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></svg></a></div></nav><div class="flex flex-grow overflow-hidden"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 text-primary-foreground hover:bg-primary/90 h-9 w-9 fixed top-[68px] left-2.5 z-[1200] md:hidden bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 shadow-lg" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-_R_6_" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-5 w-5"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><aside class="hidden md:block w-[280px] shrink-0 border-r border-purple-500/20 top-16 h-[calc(100%-64px)] fixed overflow-auto z-[1000]"><div class="overflow-auto h-full bg-gradient-to-b from-background to-gray-950/50 backdrop-blur-sm"><nav class="py-3"><h3 class="px-4 py-2 text-xs font-bold text-purple-400 uppercase tracking-wider">Getting Started</h3><ul class="space-y-0.5 px-2"><li><a href="/docs/getting-started/installation" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Installation</a></li><li><a href="/docs/getting-started/message-declaration" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Message Declaration</a></li><li><a href="/docs/getting-started/message-extraction" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Message Extraction</a></li><li><a href="/docs/getting-started/message-distribution" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Message Distribution</a></li><li><a href="/docs/getting-started/application-workflow" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Application Workflow</a></li></ul></nav><div data-orientation="horizontal" role="none" class="shrink-0 h-[1px] w-full my-3 bg-gradient-to-r from-transparent via-purple-500/20 to-transparent"></div><nav class="py-3"><h3 class="px-4 py-2 text-xs font-bold text-purple-400 uppercase tracking-wider">Core Concepts</h3><ul class="space-y-0.5 px-2"><li><a href="/docs/core-concepts/basic-internationalization-principles" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Basic Internationalization Principles</a></li><li><a href="/docs/core-concepts/icu-syntax" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">ICU Message Syntax</a></li></ul></nav><div data-orientation="horizontal" role="none" class="shrink-0 h-[1px] w-full my-3 bg-gradient-to-r from-transparent via-purple-500/20 to-transparent"></div><nav class="py-3"><h3 class="px-4 py-2 text-xs font-bold text-purple-400 uppercase tracking-wider">React Intl</h3><ul class="space-y-0.5 px-2"><li><a href="/docs/react-intl" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Overview</a></li><li><a href="/docs/react-intl/api" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">API</a></li><li><a href="/docs/react-intl/components" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Components</a></li><li><a href="/docs/react-intl/upgrade-guide-2.x" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Upgrade Guide 2.x</a></li><li><a href="/docs/react-intl/upgrade-guide-3.x" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Upgrade Guide 3.x</a></li><li><a href="/docs/react-intl/upgrade-guide-4.x" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Upgrade Guide 4.x</a></li><li><a href="/docs/react-intl/upgrade-guide-5.x" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Upgrade Guide 5.x</a></li></ul></nav><div data-orientation="horizontal" role="none" class="shrink-0 h-[1px] w-full my-3 bg-gradient-to-r from-transparent via-purple-500/20 to-transparent"></div><nav class="py-3"><h3 class="px-4 py-2 text-xs font-bold text-purple-400 uppercase tracking-wider">Polyfills</h3><ul class="space-y-0.5 px-2"><li><a href="/docs/polyfills" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Overview</a></li><li><a href="/docs/polyfills/intl-datetimeformat" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Intl.DateTimeFormat</a></li><li><a href="/docs/polyfills/intl-displaynames" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Intl.DisplayNames</a></li><li><a href="/docs/polyfills/intl-durationformat" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Intl.DurationFormat</a></li><li><a href="/docs/polyfills/intl-getcanonicallocales" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Intl.GetCanonicalLocales</a></li><li><a href="/docs/polyfills/intl-listformat" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Intl.ListFormat</a></li><li><a href="/docs/polyfills/intl-locale" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Intl.Locale</a></li><li><a href="/docs/polyfills/intl-localematcher" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Intl.LocaleMatcher</a></li><li><a href="/docs/polyfills/intl-numberformat" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Intl.NumberFormat</a></li><li><a href="/docs/polyfills/intl-pluralrules" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Intl.PluralRules</a></li><li><a href="/docs/polyfills/intl-relativetimeformat" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Intl.RelativeTimeFormat</a></li><li><a href="/docs/polyfills/intl-segmenter" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Intl.Segmenter</a></li><li><a href="/docs/polyfills/intl-supportedvaluesof" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Intl.supportedValuesOf</a></li></ul></nav><div data-orientation="horizontal" role="none" class="shrink-0 h-[1px] w-full my-3 bg-gradient-to-r from-transparent via-purple-500/20 to-transparent"></div><nav class="py-3"><h3 class="px-4 py-2 text-xs font-bold text-purple-400 uppercase tracking-wider">Tooling</h3><ul class="space-y-0.5 px-2"><li><a href="/docs/tooling/cli" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">CLI</a></li><li><a href="/docs/tooling/bazel" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-medium shadow-lg shadow-purple-500/30">Bazel</a></li><li><a href="/docs/tooling/babel-plugin" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Babel Plugin</a></li><li><a href="/docs/tooling/ts-transformer" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">TypeScript Transformer</a></li><li><a href="/docs/tooling/swc-plugin" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">SWC Plugin</a></li><li><a href="/docs/tooling/linter" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">ESLint Plugin</a></li><li><a href="/docs/tooling/rust-icu-messageformat-parser" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Rust: ICU MessageFormat Parser</a></li><li><a href="/docs/tooling/rust-icu-skeleton-parser" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Rust: ICU Skeleton Parser</a></li></ul></nav><div data-orientation="horizontal" role="none" class="shrink-0 h-[1px] w-full my-3 bg-gradient-to-r from-transparent via-purple-500/20 to-transparent"></div><nav class="py-3"><h3 class="px-4 py-2 text-xs font-bold text-purple-400 uppercase tracking-wider">Guides</h3><ul class="space-y-0.5 px-2"><li><a href="/docs/guides/testing-with-react-intl" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Testing with React Intl</a></li><li><a href="/docs/guides/runtime-requirements" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Runtime Requirements</a></li><li><a href="/docs/guides/advanced-usage" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Advanced Usage</a></li><li><a href="/docs/guides/wrapper-components" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Wrapper Components with Auto ID</a></li><li><a href="/docs/guides/bundler-plugins" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Bundler Plugins</a></li><li><a href="/docs/guides/distribute-libraries" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Distribute Libraries</a></li><li><a href="/docs/guides/develop" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Development</a></li></ul></nav><div data-orientation="horizontal" role="none" class="shrink-0 h-[1px] w-full my-3 bg-gradient-to-r from-transparent via-purple-500/20 to-transparent"></div><nav class="py-3"><h3 class="px-4 py-2 text-xs font-bold text-purple-400 uppercase tracking-wider">Other APIs</h3><ul class="space-y-0.5 px-2"><li><a href="/docs/intl" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">@formatjs/intl</a></li><li><a href="/docs/vue-intl" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Vue Intl</a></li><li><a href="/docs/intl-messageformat" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">Intl MessageFormat</a></li><li><a href="/docs/icu-messageformat-parser" class="block px-3 py-2.5 text-sm rounded-lg transition-all duration-200 text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-0.5">ICU MessageFormat Parser</a></li></ul></nav></div></aside><main class="flex-grow p-6 md:p-8 lg:p-10 md:ml-[280px] overflow-auto"><div class="max-w-4xl mx-auto"><nav aria-label="breadcrumb" class="mb-6 pb-4 border-b border-purple-500/10"><ol class="flex flex-wrap items-center gap-1.5 break-words text-muted-foreground sm:gap-2.5 text-sm"><li class="inline-flex items-center gap-1.5"><a class="text-purple-400 hover:text-purple-300 transition-colors" href="/">Home</a></li><li role="presentation" aria-hidden="true" class="[&amp;&gt;svg]:size-3.5 text-purple-500/50"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg></li><li class="inline-flex items-center gap-1.5"><a class="text-gray-400 hover:text-purple-300 transition-colors" href="/docs">Docs</a></li><li role="presentation" aria-hidden="true" class="[&amp;&gt;svg]:size-3.5 text-purple-500/50"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg></li><li class="inline-flex items-center gap-1.5"><a class="text-gray-400 hover:text-purple-300 transition-colors" href="/docs/tooling">Tooling</a></li><li role="presentation" aria-hidden="true" class="[&amp;&gt;svg]:size-3.5 text-purple-500/50"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg></li><li class="inline-flex items-center gap-1.5"><span aria-current="page" class="text-white font-medium">Bazel</span></li></ol></nav><div class="prose prose-invert max-w-none"><article class="doc-article"><p class="mb-4 leading-7 text-gray-300">Bazel rules for <a href="https://formatjs.io/" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">FormatJS</a> - Internationalize your web apps with Bazel build integration.</p>
<h2 id="features" class="text-3xl font-bold mt-10 mb-4 text-white hover:[&amp;_.header-link]:visible border-b border-purple-500/20 pb-3">Features<a href="#features" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h2>
<ul class="pl-6 mb-4 list-disc marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300">Extract messages from source files (TypeScript, JavaScript, JSX, TSX)</li>
<li class="mb-2 text-gray-300">Compile messages for optimized runtime performance</li>
<li class="mb-2 text-gray-300">Verify translations for completeness</li>
<li class="mb-2 text-gray-300">Aggregate messages across multiple modules</li>
<li class="mb-2 text-gray-300">Native Rust CLI toolchain for fast builds</li>
<li class="mb-2 text-gray-300">Type-safe message extraction and compilation</li>
<li class="mb-2 text-gray-300">Custom Bazel aspects for advanced analysis</li>
</ul>
<h2 id="installation" class="text-3xl font-bold mt-10 mb-4 text-white hover:[&amp;_.header-link]:visible border-b border-purple-500/20 pb-3">Installation<a href="#installation" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h2>
<p class="mb-4 leading-7 text-gray-300">Add <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">rules_formatjs</code> to your <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">MODULE.bazel</code>:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">bazel_dep(name = &quot;rules_formatjs&quot;, version = &quot;0.1.0&quot;)
</span></code></pre>
<p class="mb-4 leading-7 text-gray-300">Or use a specific commit from GitHub:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">git_override(
</span><span class="code-line">    module_name = &quot;rules_formatjs&quot;,
</span><span class="code-line">    remote = &quot;https://github.com/formatjs/rules_formatjs.git&quot;,
</span><span class="code-line">    commit = &quot;&lt;commit-sha&gt;&quot;,
</span><span class="code-line">)
</span></code></pre>
<h2 id="usage" class="text-3xl font-bold mt-10 mb-4 text-white hover:[&amp;_.header-link]:visible border-b border-purple-500/20 pb-3">Usage<a href="#usage" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h2>
<h3 id="extract-messages" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Extract Messages<a href="#extract-messages" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<p class="mb-4 leading-7 text-gray-300">Extract internationalized messages from your source code:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">load(&quot;@rules_formatjs//formatjs:defs.bzl&quot;, &quot;formatjs_extract&quot;)
</span><span class="code-line">
</span><span class="code-line">formatjs_extract(
</span><span class="code-line">    name = &quot;messages_extracted&quot;,
</span><span class="code-line">    srcs = glob([&quot;src/**/*.tsx&quot;, &quot;src/**/*.ts&quot;]),
</span><span class="code-line">    out = &quot;en.json&quot;,
</span><span class="code-line">    id_interpolation_pattern = &quot;[sha512:contenthash:base64:6]&quot;,
</span><span class="code-line">)
</span></code></pre>
<h3 id="compile-messages" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Compile Messages<a href="#compile-messages" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<p class="mb-4 leading-7 text-gray-300">Compile extracted messages for optimized runtime:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">load(&quot;@rules_formatjs//formatjs:defs.bzl&quot;, &quot;formatjs_compile&quot;)
</span><span class="code-line">
</span><span class="code-line">formatjs_compile(
</span><span class="code-line">    name = &quot;messages_compiled&quot;,
</span><span class="code-line">    src = &quot;:messages_extracted&quot;,
</span><span class="code-line">    out = &quot;en-compiled.json&quot;,
</span><span class="code-line">    ast = True,  # Compile to AST for better performance
</span><span class="code-line">)
</span></code></pre>
<h3 id="verify-translations" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Verify Translations<a href="#verify-translations" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<p class="mb-4 leading-7 text-gray-300">Verify that translations are complete and correctly formatted:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">load(&quot;@rules_formatjs//formatjs:defs.bzl&quot;, &quot;formatjs_verify&quot;)
</span><span class="code-line">
</span><span class="code-line">formatjs_verify(
</span><span class="code-line">    name = &quot;verify_translations&quot;,
</span><span class="code-line">    reference = &quot;:messages_extracted&quot;,  # Base language
</span><span class="code-line">    translations = [
</span><span class="code-line">        &quot;translations/es.json&quot;,
</span><span class="code-line">        &quot;translations/fr.json&quot;,
</span><span class="code-line">    ],
</span><span class="code-line">)
</span></code></pre>
<h3 id="aggregate-messages" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Aggregate Messages<a href="#aggregate-messages" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<p class="mb-4 leading-7 text-gray-300">Aggregate messages from multiple modules into a single file:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">load(&quot;@rules_formatjs//formatjs:defs.bzl&quot;, &quot;formatjs_extract&quot;, &quot;formatjs_aggregate&quot;)
</span><span class="code-line">
</span><span class="code-line"># Extract from multiple modules
</span><span class="code-line">formatjs_extract(name = &quot;module1_msgs&quot;, srcs = [&quot;module1/**/*.tsx&quot;])
</span><span class="code-line">formatjs_extract(name = &quot;module2_msgs&quot;, srcs = [&quot;module2/**/*.tsx&quot;])
</span><span class="code-line">formatjs_extract(name = &quot;module3_msgs&quot;, srcs = [&quot;module3/**/*.tsx&quot;])
</span><span class="code-line">
</span><span class="code-line"># Create aggregation target
</span><span class="code-line">formatjs_aggregate(
</span><span class="code-line">    name = &quot;all_messages&quot;,
</span><span class="code-line">    deps = [&quot;:module1_msgs&quot;, &quot;:module2_msgs&quot;, &quot;:module3_msgs&quot;],
</span><span class="code-line">)
</span></code></pre>
<p class="mb-4 leading-7 text-gray-300">Then build with the aspect:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">bazel build //:all_messages <span class="token punctuation">\</span>
</span><span class="code-line">  <span class="token parameter variable">--aspects</span><span class="token operator">=</span>@rules_formatjs//formatjs:aggregate.bzl%formatjs_aggregate_aspect <span class="token punctuation">\</span>
</span><span class="code-line">  <span class="token parameter variable">--output_groups</span><span class="token operator">=</span>aggregated_messages
</span></code></pre>
<h3 id="complete-example" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Complete Example<a href="#complete-example" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">load(&quot;@rules_formatjs//formatjs:defs.bzl&quot;, &quot;formatjs_extract&quot;, &quot;formatjs_compile&quot;, &quot;formatjs_verify&quot;)
</span><span class="code-line">
</span><span class="code-line"># Extract messages from source files
</span><span class="code-line">formatjs_extract(
</span><span class="code-line">    name = &quot;extract_en&quot;,
</span><span class="code-line">    srcs = glob([
</span><span class="code-line">        &quot;src/**/*.ts&quot;,
</span><span class="code-line">        &quot;src/**/*.tsx&quot;,
</span><span class="code-line">    ]),
</span><span class="code-line">    out = &quot;lang/en.json&quot;,
</span><span class="code-line">    id_interpolation_pattern = &quot;[sha512:contenthash:base64:6]&quot;,
</span><span class="code-line">    extract_from_format_message_call = True,
</span><span class="code-line">)
</span><span class="code-line">
</span><span class="code-line"># Compile for production
</span><span class="code-line">formatjs_compile(
</span><span class="code-line">    name = &quot;compile_en&quot;,
</span><span class="code-line">    src = &quot;:extract_en&quot;,
</span><span class="code-line">    out = &quot;lang/en-compiled.json&quot;,
</span><span class="code-line">    ast = True,
</span><span class="code-line">)
</span><span class="code-line">
</span><span class="code-line"># Compile translations
</span><span class="code-line">formatjs_compile(
</span><span class="code-line">    name = &quot;compile_es&quot;,
</span><span class="code-line">    src = &quot;translations/es.json&quot;,
</span><span class="code-line">    out = &quot;lang/es-compiled.json&quot;,
</span><span class="code-line">    ast = True,
</span><span class="code-line">)
</span><span class="code-line">
</span><span class="code-line"># Verify translations are complete
</span><span class="code-line">formatjs_verify(
</span><span class="code-line">    name = &quot;verify_es&quot;,
</span><span class="code-line">    reference = &quot;:extract_en&quot;,
</span><span class="code-line">    translations = [&quot;translations/es.json&quot;],
</span><span class="code-line">)
</span></code></pre>
<h2 id="api-reference" class="text-3xl font-bold mt-10 mb-4 text-white hover:[&amp;_.header-link]:visible border-b border-purple-500/20 pb-3">API Reference<a href="#api-reference" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h2>
<h3 id="formatjs_extract" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">formatjs_extract<a href="#formatjs_extract" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<p class="mb-4 leading-7 text-gray-300">Extract messages from source files. This is a <strong>custom Bazel rule</strong> (not a macro), which means you can attach aspects to it for advanced build graph analysis.</p>
<p class="mb-4 leading-7 text-gray-300"><strong>Attributes:</strong></p>
<div class="my-6 overflow-x-auto rounded-lg border border-purple-500/20 shadow-xl"><table class="min-w-full border-collapse"><thead class="bg-gradient-to-r from-purple-900/40 to-indigo-900/40 backdrop-blur-sm"><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Attribute</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Type</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Required</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Description</th></tr></thead><tbody class="bg-gray-950/50"><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">name</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">string</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Target name</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">srcs</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">label_list</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">List of source files to extract from</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">out</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">string</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Output JSON file (defaults to <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">name + &quot;.json&quot;</code>)</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">id_interpolation_pattern</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">string</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Pattern for message ID generation (e.g., <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">&quot;[sha512:contenthash:base64:6]&quot;</code>)</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">extract_from_format_message_call</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">bool</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Extract from <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">formatMessage()</code> calls</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">additional_component_names</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">string_list</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Additional component names to extract from (see <a href="/docs/guides/wrapper-components" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">Wrapper Components Guide</a>)</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">additional_function_names</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">string_list</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Additional function names to extract from (see <a href="/docs/guides/wrapper-components" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">Wrapper Components Guide</a>)</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">ignore</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">string_list</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">List of glob patterns to ignore</td></tr></tbody></table></div>
<p class="mb-4 leading-7 text-gray-300"><strong>Providers:</strong></p>
<ul class="pl-6 mb-4 list-disc marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">DefaultInfo</code>: Contains the extracted messages JSON file</li>
<li class="mb-2 text-gray-300"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">FormatjsExtractInfo</code>: Custom provider with:<!-- -->
<ul class="pl-6 mb-4 list-disc marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">messages</code>: File containing extracted messages</li>
<li class="mb-2 text-gray-300"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">srcs</code>: Depset of source files</li>
<li class="mb-2 text-gray-300"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">id_interpolation_pattern</code>: Pattern used for ID generation</li>
</ul>
</li>
</ul>
<p class="mb-4 leading-7 text-gray-300"><strong>Example with wrapper components:</strong></p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">formatjs_extract(
</span><span class="code-line">    name = &quot;extract_with_custom_components&quot;,
</span><span class="code-line">    srcs = glob([&quot;src/**/*.tsx&quot;]),
</span><span class="code-line">    out = &quot;messages.json&quot;,
</span><span class="code-line">    id_interpolation_pattern = &quot;[sha512:contenthash:base64:6]&quot;,
</span><span class="code-line">    additional_component_names = [&quot;CustomButton&quot;, &quot;TranslatableText&quot;],
</span><span class="code-line">    additional_function_names = [&quot;t&quot;, &quot;$formatMessage&quot;],
</span><span class="code-line">)
</span></code></pre>
<h3 id="formatjs_compile" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">formatjs_compile<a href="#formatjs_compile" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<p class="mb-4 leading-7 text-gray-300">Compile extracted messages for optimized runtime.</p>
<p class="mb-4 leading-7 text-gray-300"><strong>Attributes:</strong></p>
<div class="my-6 overflow-x-auto rounded-lg border border-purple-500/20 shadow-xl"><table class="min-w-full border-collapse"><thead class="bg-gradient-to-r from-purple-900/40 to-indigo-900/40 backdrop-blur-sm"><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Attribute</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Type</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Required</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Description</th></tr></thead><tbody class="bg-gray-950/50"><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">name</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">string</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Target name</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">src</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">label</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Source JSON file with extracted messages</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">out</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">string</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Output compiled JSON file (defaults to <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">name + &quot;.json&quot;</code>)</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">ast</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">bool</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Compile to AST format for better runtime performance (recommended)</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">format</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">string</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Input format: <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">simple</code>, <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">crowdin</code>, <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">smartling</code>, or <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">transifex</code></td></tr></tbody></table></div>
<p class="mb-4 leading-7 text-gray-300"><strong>Example:</strong></p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">formatjs_compile(
</span><span class="code-line">    name = &quot;compile_messages&quot;,
</span><span class="code-line">    src = &quot;:extract_en&quot;,
</span><span class="code-line">    out = &quot;en-compiled.json&quot;,
</span><span class="code-line">    ast = True,
</span><span class="code-line">    format = &quot;simple&quot;,
</span><span class="code-line">)
</span></code></pre>
<h3 id="formatjs_verify" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">formatjs_verify<a href="#formatjs_verify" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<p class="mb-4 leading-7 text-gray-300">Verify that translations are complete and correctly formatted.</p>
<p class="mb-4 leading-7 text-gray-300"><strong>Attributes:</strong></p>
<div class="my-6 overflow-x-auto rounded-lg border border-purple-500/20 shadow-xl"><table class="min-w-full border-collapse"><thead class="bg-gradient-to-r from-purple-900/40 to-indigo-900/40 backdrop-blur-sm"><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Attribute</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Type</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Required</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Description</th></tr></thead><tbody class="bg-gray-950/50"><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">name</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">string</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Target name</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">reference</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">label</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Reference messages file (typically the base language)</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">translations</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">label_list</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">List of translation files to verify</td></tr></tbody></table></div>
<p class="mb-4 leading-7 text-gray-300"><strong>Example:</strong></p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">formatjs_verify(
</span><span class="code-line">    name = &quot;verify_translations&quot;,
</span><span class="code-line">    reference = &quot;:extract_en&quot;,
</span><span class="code-line">    translations = [
</span><span class="code-line">        &quot;translations/es.json&quot;,
</span><span class="code-line">        &quot;translations/fr.json&quot;,
</span><span class="code-line">        &quot;translations/de.json&quot;,
</span><span class="code-line">    ],
</span><span class="code-line">)
</span></code></pre>
<h3 id="formatjs_aggregate" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">formatjs_aggregate<a href="#formatjs_aggregate" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<p class="mb-4 leading-7 text-gray-300">Create an aggregation target for collecting messages from multiple modules.</p>
<p class="mb-4 leading-7 text-gray-300"><strong>Attributes:</strong></p>
<div class="my-6 overflow-x-auto rounded-lg border border-purple-500/20 shadow-xl"><table class="min-w-full border-collapse"><thead class="bg-gradient-to-r from-purple-900/40 to-indigo-900/40 backdrop-blur-sm"><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Attribute</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Type</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Required</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Description</th></tr></thead><tbody class="bg-gray-950/50"><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">name</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">string</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Target name</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">deps</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0"><code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">label_list</code></td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">List of <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">formatjs_extract</code> targets to aggregate</td></tr></tbody></table></div>
<p class="mb-4 leading-7 text-gray-300"><strong>Example:</strong></p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">formatjs_aggregate(
</span><span class="code-line">    name = &quot;all_messages&quot;,
</span><span class="code-line">    deps = [
</span><span class="code-line">        &quot;:module1_msgs&quot;,
</span><span class="code-line">        &quot;:module2_msgs&quot;,
</span><span class="code-line">        &quot;:module3_msgs&quot;,
</span><span class="code-line">    ],
</span><span class="code-line">)
</span></code></pre>
<p class="mb-4 leading-7 text-gray-300">Build with the aggregation aspect:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">bazel build //:all_messages <span class="token punctuation">\</span>
</span><span class="code-line">  <span class="token parameter variable">--aspects</span><span class="token operator">=</span>@rules_formatjs//formatjs:aggregate.bzl%formatjs_aggregate_aspect <span class="token punctuation">\</span>
</span><span class="code-line">  <span class="token parameter variable">--output_groups</span><span class="token operator">=</span>aggregated_messages
</span></code></pre>
<p class="mb-4 leading-7 text-gray-300">Output: <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">bazel-bin/all_messages_aggregated_messages.json</code> containing all merged messages.</p>
<p class="mb-4 leading-7 text-gray-300"><strong>Merge Strategy</strong>: Uses <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">jq</code> to merge JSON objects. Later files overwrite earlier ones for duplicate keys.</p>
<h2 id="integration-with-react" class="text-3xl font-bold mt-10 mb-4 text-white hover:[&amp;_.header-link]:visible border-b border-purple-500/20 pb-3">Integration with React<a href="#integration-with-react" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h2>
<p class="mb-4 leading-7 text-gray-300">Use compiled messages with <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">react-intl</code>:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span>createIntl<span class="token punctuation">,</span> createIntlCache<span class="token punctuation">,</span> <span class="token maybe-class-name">RawIntlProvider</span><span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;react-intl&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token imports">messages</span> <span class="token keyword">from</span> <span class="token string">&#x27;./lang/en-compiled.json&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token function">createIntlCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> intl <span class="token operator">=</span> <span class="token function">createIntl</span><span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    locale<span class="token operator">:</span> <span class="token string">&#x27;en&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    messages<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  cache
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RawIntlProvider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>intl<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token comment">/* Your app */</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">RawIntlProvider</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<h2 id="advanced-using-aspects" class="text-3xl font-bold mt-10 mb-4 text-white hover:[&amp;_.header-link]:visible border-b border-purple-500/20 pb-3">Advanced: Using Aspects<a href="#advanced-using-aspects" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h2>
<p class="mb-4 leading-7 text-gray-300">Since <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">formatjs_extract</code> is a custom rule, you can attach Bazel aspects to it for advanced analysis and transformations. This is useful for:</p>
<ul class="pl-6 mb-4 list-disc marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300">Collecting statistics about extracted messages</li>
<li class="mb-2 text-gray-300">Validating message format and completeness</li>
<li class="mb-2 text-gray-300">Aggregating messages across multiple targets</li>
<li class="mb-2 text-gray-300">Custom reporting and analysis</li>
</ul>
<h3 id="message-aggregation-aspect" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Message Aggregation Aspect<a href="#message-aggregation-aspect" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<p class="mb-4 leading-7 text-gray-300">The <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">formatjs_aggregate_aspect</code> collects and merges extracted messages from a target and all its dependencies into a single JSON file using <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">jq</code>.</p>
<p class="mb-4 leading-7 text-gray-300"><strong>Example:</strong></p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">load(&quot;@rules_formatjs//formatjs:defs.bzl&quot;, &quot;formatjs_extract&quot;, &quot;formatjs_aggregate&quot;)
</span><span class="code-line">
</span><span class="code-line"># Extract from multiple modules
</span><span class="code-line">formatjs_extract(name = &quot;module1_msgs&quot;, srcs = [&quot;module1/**/*.tsx&quot;])
</span><span class="code-line">formatjs_extract(name = &quot;module2_msgs&quot;, srcs = [&quot;module2/**/*.tsx&quot;])
</span><span class="code-line">formatjs_extract(name = &quot;module3_msgs&quot;, srcs = [&quot;module3/**/*.tsx&quot;])
</span><span class="code-line">
</span><span class="code-line"># Create aggregation target
</span><span class="code-line">formatjs_aggregate(
</span><span class="code-line">    name = &quot;all_messages&quot;,
</span><span class="code-line">    deps = [&quot;:module1_msgs&quot;, &quot;:module2_msgs&quot;, &quot;:module3_msgs&quot;],
</span><span class="code-line">)
</span></code></pre>
<p class="mb-4 leading-7 text-gray-300">Then build with the aspect:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">bazel build //:all_messages <span class="token punctuation">\</span>
</span><span class="code-line">  <span class="token parameter variable">--aspects</span><span class="token operator">=</span>@rules_formatjs//formatjs:aggregate.bzl%formatjs_aggregate_aspect <span class="token punctuation">\</span>
</span><span class="code-line">  <span class="token parameter variable">--output_groups</span><span class="token operator">=</span>aggregated_messages
</span></code></pre>
<h3 id="built-in-example-aspects" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Built-in Example Aspects<a href="#built-in-example-aspects" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<p class="mb-4 leading-7 text-gray-300">The library includes demonstration aspects in <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">formatjs/aspects.bzl</code>:</p>
<h4 id="message-statistics" class="text-xl font-semibold mt-6 mb-2 text-purple-200 hover:[&amp;_.header-link]:visible">Message Statistics<a href="#message-statistics" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h4>
<p class="mb-4 leading-7 text-gray-300">Collect statistics about extracted messages:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">bazel build //path/to:target <span class="token punctuation">\</span>
</span><span class="code-line">  <span class="token parameter variable">--aspects</span><span class="token operator">=</span>@rules_formatjs//formatjs:aspects.bzl%message_stats_aspect <span class="token punctuation">\</span>
</span><span class="code-line">  <span class="token parameter variable">--output_groups</span><span class="token operator">=</span>message_stats
</span></code></pre>
<h4 id="message-validation" class="text-xl font-semibold mt-6 mb-2 text-purple-200 hover:[&amp;_.header-link]:visible">Message Validation<a href="#message-validation" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h4>
<p class="mb-4 leading-7 text-gray-300">Validate message format and structure:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">bazel build //path/to:target <span class="token punctuation">\</span>
</span><span class="code-line">  <span class="token parameter variable">--aspects</span><span class="token operator">=</span>@rules_formatjs//formatjs:aspects.bzl%message_validator_aspect <span class="token punctuation">\</span>
</span><span class="code-line">  <span class="token parameter variable">--output_groups</span><span class="token operator">=</span>message_validation
</span></code></pre>
<h4 id="message-collection" class="text-xl font-semibold mt-6 mb-2 text-purple-200 hover:[&amp;_.header-link]:visible">Message Collection<a href="#message-collection" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h4>
<p class="mb-4 leading-7 text-gray-300">Collect messages across all dependencies:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">bazel build //path/to:target <span class="token punctuation">\</span>
</span><span class="code-line">  <span class="token parameter variable">--aspects</span><span class="token operator">=</span>@rules_formatjs//formatjs:aspects.bzl%message_collector_aspect <span class="token punctuation">\</span>
</span><span class="code-line">  <span class="token parameter variable">--output_groups</span><span class="token operator">=</span>all_messages
</span></code></pre>
<h3 id="creating-custom-aspects" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Creating Custom Aspects<a href="#creating-custom-aspects" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<p class="mb-4 leading-7 text-gray-300">You can create custom aspects to analyze and transform extracted messages:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">load(&quot;@rules_formatjs//formatjs:defs.bzl&quot;, &quot;FormatjsExtractInfo&quot;)
</span><span class="code-line">
</span><span class="code-line">def _my_aspect_impl(target, ctx):
</span><span class="code-line">    if FormatjsExtractInfo not in target:
</span><span class="code-line">        return []
</span><span class="code-line">
</span><span class="code-line">    info = target[FormatjsExtractInfo]
</span><span class="code-line">
</span><span class="code-line">    # Access extracted message file
</span><span class="code-line">    messages_file = info.messages
</span><span class="code-line">
</span><span class="code-line">    # Access source files
</span><span class="code-line">    src_files = info.srcs.to_list()
</span><span class="code-line">
</span><span class="code-line">    # Perform custom analysis...
</span><span class="code-line">    # For example:
</span><span class="code-line">    # - Count messages by type
</span><span class="code-line">    # - Validate message IDs
</span><span class="code-line">    # - Check for missing translations
</span><span class="code-line">    # - Generate reports
</span><span class="code-line">
</span><span class="code-line">    return [OutputGroupInfo(...)]
</span><span class="code-line">
</span><span class="code-line">my_aspect = aspect(
</span><span class="code-line">    implementation = _my_aspect_impl,
</span><span class="code-line">    doc = &quot;My custom aspect for formatjs_extract&quot;,
</span><span class="code-line">)
</span></code></pre>
<h2 id="toolchain" class="text-3xl font-bold mt-10 mb-4 text-white hover:[&amp;_.header-link]:visible border-b border-purple-500/20 pb-3">Toolchain<a href="#toolchain" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h2>
<p class="mb-4 leading-7 text-gray-300">rules_formatjs uses a native Rust CLI toolchain that is automatically downloaded for your platform. The toolchain supports:</p>
<ul class="pl-6 mb-4 list-disc marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300">macOS (Apple Silicon and Intel)</li>
<li class="mb-2 text-gray-300">Linux (x86_64)</li>
</ul>
<p class="mb-4 leading-7 text-gray-300">The toolchain is registered automatically when you add the MODULE.bazel dependency. Binaries are fetched from GitHub releases and cached by Bazel.</p>
<h3 id="performance-benefits" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Performance Benefits<a href="#performance-benefits" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<p class="mb-4 leading-7 text-gray-300">The native Rust CLI is significantly faster than the Node.js-based tools:</p>
<ul class="pl-6 mb-4 list-disc marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300"><strong>4-17x faster</strong> message extraction</li>
<li class="mb-2 text-gray-300"><strong>Zero dependencies</strong> - no Node.js or npm required</li>
<li class="mb-2 text-gray-300"><strong>Minimal memory footprint</strong></li>
<li class="mb-2 text-gray-300"><strong>Instant startup</strong> - no JavaScript runtime initialization</li>
<li class="mb-2 text-gray-300"><strong>Perfect for CI/CD</strong> - fast builds in continuous integration</li>
</ul>
<h2 id="common-workflows" class="text-3xl font-bold mt-10 mb-4 text-white hover:[&amp;_.header-link]:visible border-b border-purple-500/20 pb-3">Common Workflows<a href="#common-workflows" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h2>
<h3 id="development-workflow" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Development Workflow<a href="#development-workflow" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<ol class="pl-6 mb-4 list-decimal marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300">Extract messages from source files</li>
<li class="mb-2 text-gray-300">Compile for development (with AST for better performance)</li>
<li class="mb-2 text-gray-300">Verify translations are complete</li>
</ol>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line"># BUILD.bazel
</span><span class="code-line">formatjs_extract(
</span><span class="code-line">    name = &quot;extract_dev&quot;,
</span><span class="code-line">    srcs = glob([&quot;src/**/*.tsx&quot;]),
</span><span class="code-line">    out = &quot;messages.json&quot;,
</span><span class="code-line">    id_interpolation_pattern = &quot;[sha512:contenthash:base64:6]&quot;,
</span><span class="code-line">)
</span><span class="code-line">
</span><span class="code-line">formatjs_compile(
</span><span class="code-line">    name = &quot;compile_dev&quot;,
</span><span class="code-line">    src = &quot;:extract_dev&quot;,
</span><span class="code-line">    ast = True,
</span><span class="code-line">)
</span><span class="code-line">
</span><span class="code-line">formatjs_verify(
</span><span class="code-line">    name = &quot;verify_dev&quot;,
</span><span class="code-line">    reference = &quot;:extract_dev&quot;,
</span><span class="code-line">    translations = glob([&quot;translations/*.json&quot;]),
</span><span class="code-line">)
</span></code></pre>
<h3 id="production-workflow" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Production Workflow<a href="#production-workflow" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<ol class="pl-6 mb-4 list-decimal marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300">Extract from all modules</li>
<li class="mb-2 text-gray-300">Aggregate across the entire application</li>
<li class="mb-2 text-gray-300">Compile with AST optimization</li>
<li class="mb-2 text-gray-300">Verify all translations</li>
</ol>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line"># Multiple module extraction
</span><span class="code-line">formatjs_extract(name = &quot;auth_msgs&quot;, srcs = glob([&quot;auth/**/*.tsx&quot;]))
</span><span class="code-line">formatjs_extract(name = &quot;dashboard_msgs&quot;, srcs = glob([&quot;dashboard/**/*.tsx&quot;]))
</span><span class="code-line">formatjs_extract(name = &quot;settings_msgs&quot;, srcs = glob([&quot;settings/**/*.tsx&quot;]))
</span><span class="code-line">
</span><span class="code-line"># Aggregate all messages
</span><span class="code-line">formatjs_aggregate(
</span><span class="code-line">    name = &quot;all_app_messages&quot;,
</span><span class="code-line">    deps = [&quot;:auth_msgs&quot;, &quot;:dashboard_msgs&quot;, &quot;:settings_msgs&quot;],
</span><span class="code-line">)
</span><span class="code-line">
</span><span class="code-line"># Compile with AST
</span><span class="code-line">formatjs_compile(
</span><span class="code-line">    name = &quot;compile_prod&quot;,
</span><span class="code-line">    src = &quot;:all_app_messages&quot;,
</span><span class="code-line">    out = &quot;app-messages.json&quot;,
</span><span class="code-line">    ast = True,
</span><span class="code-line">)
</span><span class="code-line">
</span><span class="code-line"># Verify all translations
</span><span class="code-line">formatjs_verify(
</span><span class="code-line">    name = &quot;verify_all&quot;,
</span><span class="code-line">    reference = &quot;:all_app_messages&quot;,
</span><span class="code-line">    translations = glob([&quot;translations/*.json&quot;]),
</span><span class="code-line">)
</span></code></pre>
<p class="mb-4 leading-7 text-gray-300">Build the aggregated messages:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line">bazel build //:all_app_messages <span class="token punctuation">\</span>
</span><span class="code-line">  <span class="token parameter variable">--aspects</span><span class="token operator">=</span>@rules_formatjs//formatjs:aggregate.bzl%formatjs_aggregate_aspect <span class="token punctuation">\</span>
</span><span class="code-line">  <span class="token parameter variable">--output_groups</span><span class="token operator">=</span>aggregated_messages
</span></code></pre>
<h3 id="cicd-integration" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">CI/CD Integration<a href="#cicd-integration" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<p class="mb-4 leading-7 text-gray-300">Add verification to your CI pipeline:</p>
<pre class="relative group p-5 mb-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950 text-gray-200 rounded-lg border border-purple-500/20 shadow-xl hover:border-purple-500/40 transition-colors"><code class="font-mono text-sm"><span class="code-line"><span class="token comment"># Extract and verify in one command</span>
</span><span class="code-line">bazel <span class="token builtin class-name">test</span> //<span class="token punctuation">..</span>.
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># Or run specific verification targets</span>
</span><span class="code-line">bazel <span class="token builtin class-name">test</span> //:verify_all //:verify_es //:verify_fr
</span></code></pre>
<h2 id="examples" class="text-3xl font-bold mt-10 mb-4 text-white hover:[&amp;_.header-link]:visible border-b border-purple-500/20 pb-3">Examples<a href="#examples" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h2>
<p class="mb-4 leading-7 text-gray-300">Complete working examples are available in the <a href="https://github.com/formatjs/rules_formatjs" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">rules_formatjs repository</a>:</p>
<ul class="pl-6 mb-4 list-disc marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300"><a href="https://github.com/formatjs/rules_formatjs/tree/main/examples/simple" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">examples/simple</a> - Basic message extraction, compilation, and verification</li>
<li class="mb-2 text-gray-300"><a href="https://github.com/formatjs/rules_formatjs/tree/main/examples/aggregate" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">examples/aggregate</a> - Aggregating messages from multiple modules</li>
</ul>
<h2 id="comparison-with-other-tools" class="text-3xl font-bold mt-10 mb-4 text-white hover:[&amp;_.header-link]:visible border-b border-purple-500/20 pb-3">Comparison with Other Tools<a href="#comparison-with-other-tools" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h2>
<div class="my-6 overflow-x-auto rounded-lg border border-purple-500/20 shadow-xl"><table class="min-w-full border-collapse"><thead class="bg-gradient-to-r from-purple-900/40 to-indigo-900/40 backdrop-blur-sm"><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Feature</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Bazel Rules</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">CLI</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">Babel Plugin</th><th class="px-4 py-3 text-left font-bold text-purple-300 border-r border-purple-500/10 last:border-r-0">TS Transformer</th></tr></thead><tbody class="bg-gray-950/50"><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Build System Integration</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âœ… Native</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âŒ External</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âŒ External</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âŒ External</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Incremental Builds</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âœ… Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âŒ No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âš ï¸ Partial</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âš ï¸ Partial</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Caching</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âœ… Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âŒ No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âš ï¸ Limited</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âš ï¸ Limited</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Message Aggregation</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âœ… Native</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âš ï¸ Manual</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âŒ No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âŒ No</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Translation Verification</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âœ… Native</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âœ… Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âŒ No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âŒ No</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">AST Compilation</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âœ… Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âœ… Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âœ… Yes</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âœ… Yes</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Performance</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âœ… Rust</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âœ… Rust</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âš ï¸ Node.js</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âš ï¸ Node.js</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Multi-module Support</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âœ… Aspects</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âš ï¸ Manual</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âŒ No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âŒ No</td></tr><tr class="border-b border-purple-500/10 hover:bg-purple-900/10 transition-colors"><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">Custom Analysis</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âœ… Aspects</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âŒ No</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âš ï¸ Limited</td><td class="px-4 py-3 text-gray-300 border-r border-purple-500/10 last:border-r-0">âš ï¸ Limited</td></tr></tbody></table></div>
<h2 id="troubleshooting" class="text-3xl font-bold mt-10 mb-4 text-white hover:[&amp;_.header-link]:visible border-b border-purple-500/20 pb-3">Troubleshooting<a href="#troubleshooting" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h2>
<h3 id="messages-not-being-extracted" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Messages not being extracted<a href="#messages-not-being-extracted" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<ol class="pl-6 mb-4 list-decimal marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300">Verify your <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">srcs</code> glob pattern matches your files</li>
<li class="mb-2 text-gray-300">Check that you&#x27;re using standard prop names (see <a href="/docs/guides/wrapper-components" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">Wrapper Components Guide</a>)</li>
<li class="mb-2 text-gray-300">Ensure <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">extract_from_format_message_call</code> is enabled if using <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">formatMessage()</code></li>
<li class="mb-2 text-gray-300">Add custom components/functions using <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">additional_component_names</code> and <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">additional_function_names</code></li>
</ol>
<h3 id="build-errors" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Build errors<a href="#build-errors" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<ol class="pl-6 mb-4 list-decimal marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300">Check that <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">rules_formatjs</code> is properly installed in MODULE.bazel</li>
<li class="mb-2 text-gray-300">Verify the toolchain is registered (should happen automatically)</li>
<li class="mb-2 text-gray-300">Check Bazel version compatibility (requires Bazel 6.0+)</li>
</ol>
<h3 id="aggregation-not-working" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Aggregation not working<a href="#aggregation-not-working" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<ol class="pl-6 mb-4 list-decimal marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300">Ensure you&#x27;re using the correct aspect: <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">@rules_formatjs//formatjs:aggregate.bzl%formatjs_aggregate_aspect</code></li>
<li class="mb-2 text-gray-300">Verify all deps are <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">formatjs_extract</code> targets</li>
<li class="mb-2 text-gray-300">Check that <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">jq</code> is available on your system</li>
<li class="mb-2 text-gray-300">Use <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">--output_groups=aggregated_messages</code> flag</li>
</ol>
<h3 id="slow-builds" class="text-2xl font-semibold mt-8 mb-3 text-purple-300 hover:[&amp;_.header-link]:visible">Slow builds<a href="#slow-builds" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h3>
<ol class="pl-6 mb-4 list-decimal marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300">Enable remote caching in your <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">.bazelrc</code></li>
<li class="mb-2 text-gray-300">Use <code class="px-2 py-1 rounded-md bg-purple-900/30 text-purple-300 font-mono text-sm border border-purple-500/20">formatjs_aggregate</code> with aspects instead of manual merging</li>
<li class="mb-2 text-gray-300">Ensure the Rust toolchain is being used (check Bazel logs)</li>
<li class="mb-2 text-gray-300">Consider splitting large source sets into multiple extract targets</li>
</ol>
<h2 id="resources" class="text-3xl font-bold mt-10 mb-4 text-white hover:[&amp;_.header-link]:visible border-b border-purple-500/20 pb-3">Resources<a href="#resources" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h2>
<ul class="pl-6 mb-4 list-disc marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300"><a href="https://formatjs.io/" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">FormatJS Documentation</a></li>
<li class="mb-2 text-gray-300"><a href="/docs/tooling/cli" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">FormatJS CLI</a></li>
<li class="mb-2 text-gray-300"><a href="/docs/react-intl" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">React Intl</a></li>
<li class="mb-2 text-gray-300"><a href="/docs/guides/wrapper-components" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">Wrapper Components Guide</a></li>
<li class="mb-2 text-gray-300"><a href="https://bazel.build/" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">Bazel</a></li>
<li class="mb-2 text-gray-300"><a href="https://github.com/formatjs/rules_formatjs" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">rules_formatjs GitHub Repository</a></li>
</ul>
<h2 id="see-also" class="text-3xl font-bold mt-10 mb-4 text-white hover:[&amp;_.header-link]:visible border-b border-purple-500/20 pb-3">See Also<a href="#see-also" class="header-link invisible ml-2 text-purple-400 no-underline text-sm hover:text-purple-300 transition-colors">#</a></h2>
<ul class="pl-6 mb-4 list-disc marker:text-purple-400 space-y-2">
<li class="mb-2 text-gray-300"><a href="/docs/tooling/cli" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">CLI Documentation</a> - Command-line tools</li>
<li class="mb-2 text-gray-300"><a href="/docs/tooling/babel-plugin" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">Babel Plugin Documentation</a> - Babel integration</li>
<li class="mb-2 text-gray-300"><a href="/docs/tooling/ts-transformer" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">TypeScript Transformer Documentation</a> - TypeScript integration</li>
<li class="mb-2 text-gray-300"><a href="/docs/getting-started/message-extraction" class="text-purple-400 hover:text-purple-300 underline decoration-purple-500/50 hover:decoration-purple-400 transition-colors">Message Extraction Guide</a> - General extraction concepts</li>
</ul></article></div></div></main></div></div></div>
        
        <script id="vike_pageContext" type="application/json">{"pageId":"\\/src\\/pages\\/docs\\/@path","routeParams":{"path":"tooling\\/bazel"}}</script>
        <script id="vike_globalContext" type="application/json">{}</script>
        <script src="/assets/entries/entry-client-routing.crqFPKy8.js" type="module" async></script>
        <link rel="modulepreload" href="/assets/entries/src_pages_docs_-path.CtrBQzNd.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/assets/chunks/chunk-Bion_s63.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/assets/chunks/chunk-Ck09OOcZ.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/assets/chunks/chunk-SAmD9nuY.js" as="script" type="text/javascript">
      </body>
    </html>