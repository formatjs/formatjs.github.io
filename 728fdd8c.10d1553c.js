(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{115:function(t,e,r){"use strict";r.r(e),function(t){r.d(e,"frontMatter",(function(){return u})),r.d(e,"metadata",(function(){return i})),r.d(e,"rightToc",(function(){return l})),r.d(e,"default",(function(){return p}));var n=r(1),a=r(6),c=(r(0),r(134)),o=r(156),u={id:"intl-messageformat-parser",title:"Intl MessageFormat Parser"},i={id:"intl-messageformat-parser",title:"Intl MessageFormat Parser",description:"Parses [ICU Message strings][icu] into an AST via JavaScript.",source:"@site/docs/intl-messageformat-parser.md",permalink:"/docs/intl-messageformat-parser",editUrl:"https://github.com/formatjs/formatjs/edit/master/website/docs/intl-messageformat-parser.md",sidebar:"docs",previous:{title:"Intl MessageFormat",permalink:"/docs/intl-messageformat"},next:{title:"Overview",permalink:"/docs/react-intl"}};t.parse=o.a;var l=[{value:"Overview",id:"overview",children:[]},{value:"Usage",id:"usage",children:[{value:"Example",id:"example",children:[]}]},{value:"Supported DateTime Skeleton",id:"supported-datetime-skeleton",children:[]},{value:"Benchmarks",id:"benchmarks",children:[]}],s={rightToc:l};function p(t){var e=t.components,r=Object(a.a)(t,["components"]);return Object(c.b)("wrapper",Object(n.a)({},s,r,{components:e,mdxType:"MDXLayout"}),Object(c.b)("p",null,"Parses ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"http://userguide.icu-project.org/formatparse/messages"}),"ICU Message strings")," into an AST via JavaScript."),Object(c.b)("p",null,Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.npmjs.com/package/intl-messageformat-parser"}),Object(c.b)("img",Object(n.a)({parentName:"a"},{src:"https://badgen.net/npm/v/intl-messageformat-parser",alt:"npm Version"}))),"\n",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"https://bundlephobia.com/result?p=intl-messageformat-parser"}),Object(c.b)("img",Object(n.a)({parentName:"a"},{src:"https://badgen.net/bundlephobia/minzip/intl-messageformat-parser",alt:"size"})))),Object(c.b)("h2",{id:"overview"},"Overview"),Object(c.b)("p",null,"This package implements a parser in JavaScript that parses the industry standard ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"http://userguide.icu-project.org/formatparse/messages"}),"ICU Message strings")," \u2014 used for internationalization \u2014 into an AST. The produced AST can then be used by a compiler, like ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/formatjs/formatjs"}),Object(c.b)("inlineCode",{parentName:"a"},"intl-messageformat")),", to produce localized formatted strings for display to users."),Object(c.b)("p",null,"This parser is written in ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"https://pegjs.org/"}),"PEG.js"),", a parser generator for JavaScript."),Object(c.b)("h2",{id:"usage"},"Usage"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"import {parse} from 'intl-messageformat-parser';\nconst ast = parse('this is {count, plural, one{# dog} other{# dogs}}');\n")),Object(c.b)("h3",{id:"example"},"Example"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:"live",live:!0}),"function () {\n  const ast = parse(\n        `On {takenDate, date, short} <bold>{name}</bold> took {numPhotos, plural,\n      =0 {no photos.}\n      =1 {one photo.}\n      other {# photos.}\n  }`)\n  return (\n    <pre>\n      {JSON.stringify(ast, null, 2)}\n    </pre>\n  )\n}\n")),Object(c.b)("h2",{id:"supported-datetime-skeleton"},"Supported DateTime Skeleton"),Object(c.b)("p",null,"ICU provides a ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table"}),"wide array of pattern")," to customize date time format. However, not all of them are available via ECMA402's Intl API. Therefore, our parser only support the following patterns"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Symbol"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Meaning"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Notes"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"G"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Era designator"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"y"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"year"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"M"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"month in year"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"L"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"stand-alone month in year"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"d"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"day in month"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"E"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"day of week"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"e"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"local day of week"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"e..eee")," is not supported")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"c"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"stand-alone local day of week"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"c..ccc")," is not supported")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"a"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"AM/PM marker"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"h"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Hour ","[1-12]"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"H"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Hour ","[0-23]"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"K"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Hour ","[0-11]"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"k"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Hour ","[1-24]"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"m"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Minute"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"s"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Second"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"z"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Time Zone"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))))),Object(c.b)("h2",{id:"benchmarks"},"Benchmarks"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"complex_msg AST length 2053\nnormal_msg AST length 410\nsimple_msg AST length 79\nstring_msg AST length 36\ncomplex_msg x 3,926 ops/sec \xb12.37% (90 runs sampled)\nnormal_msg x 27,641 ops/sec \xb13.93% (86 runs sampled)\nsimple_msg x 100,764 ops/sec \xb15.35% (79 runs sampled)\nstring_msg x 120,362 ops/sec \xb17.11% (74 runs sampled)\n")))}p.isMDXComponent=!0}.call(this,r(55))},134:function(t,e,r){"use strict";r.d(e,"a",(function(){return p})),r.d(e,"b",(function(){return d}));var n=r(0),a=r.n(n);function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r,n,a={},c=Object.keys(t);for(n=0;n<c.length;n++)r=c[n],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var l=a.a.createContext({}),s=function(t){var e=a.a.useContext(l),r=e;return t&&(r="function"==typeof t?t(e):u({},e,{},t)),r},p=function(t){var e=s(t.components);return a.a.createElement(l.Provider,{value:e},t.children)},f={inlineCode:"code",wrapper:function(t){var e=t.children;return a.a.createElement(a.a.Fragment,{},e)}},b=Object(n.forwardRef)((function(t,e){var r=t.components,n=t.mdxType,c=t.originalType,o=t.parentName,l=i(t,["components","mdxType","originalType","parentName"]),p=s(r),b=n,d=p["".concat(o,".").concat(b)]||p[b]||f[b]||c;return r?a.a.createElement(d,u({ref:e},l,{components:r})):a.a.createElement(d,u({ref:e},l))}));function d(t,e){var r=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var c=r.length,o=new Array(c);o[0]=b;var u={};for(var i in e)hasOwnProperty.call(e,i)&&(u[i]=e[i]);u.originalType=t,u.mdxType="string"==typeof t?t:n,o[1]=u;for(var l=2;l<c;l++)o[l]=r[l];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,r)}b.displayName="MDXCreateElement"},135:function(t,e,r){"use strict";var n=r(147),a={};a[r(11)("toStringTag")]="z",a+""!="[object z]"&&r(20)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},136:function(t,e,r){var n=r(52);n(n.S+n.F,"Object",{assign:r(150)})},138:function(t,e,r){var n=r(54),a=r(36);r(172)("keys",(function(){return function(t){return a(n(t))}}))},139:function(t,e,r){"use strict";var n,a;function c(t){return t.type===n.literal}function o(t){return t.type===n.argument}function u(t){return t.type===n.number}function i(t){return t.type===n.date}function l(t){return t.type===n.time}function s(t){return t.type===n.select}function p(t){return t.type===n.plural}function f(t){return t.type===n.pound}function b(t){return t.type===n.tag}function d(t){return!(!t||"object"!=typeof t||0!==t.type)}function g(t){return!(!t||"object"!=typeof t||1!==t.type)}r.d(e,"a",(function(){return n})),r.d(e,"e",(function(){return c})),r.d(e,"b",(function(){return o})),r.d(e,"f",(function(){return u})),r.d(e,"c",(function(){return i})),r.d(e,"l",(function(){return l})),r.d(e,"j",(function(){return s})),r.d(e,"h",(function(){return p})),r.d(e,"i",(function(){return f})),r.d(e,"k",(function(){return b})),r.d(e,"g",(function(){return d})),r.d(e,"d",(function(){return g})),function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"}(n||(n={})),function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"}(a||(a={}))},140:function(t,e){e.f={}.propertyIsEnumerable},142:function(t,e,r){"use strict";var n=r(19);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},143:function(t,e,r){"use strict";var n=r(19),a=r(54),c=r(62),o=r(38),u=r(165),i=r(167),l=Math.max,s=Math.min,p=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,b=/\$([$&`']|\d\d?)/g;r(168)("replace",2,(function(t,e,r,d){return[function(n,a){var c=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,c,a):r.call(String(c),n,a)},function(t,e){var a=d(r,t,this,e);if(a.done)return a.value;var p=n(t),f=String(this),b="function"==typeof e;b||(e=String(e));var m=p.global;if(m){var h=p.unicode;p.lastIndex=0}for(var v=[];;){var O=i(p,f);if(null===O)break;if(v.push(O),!m)break;""===String(O[0])&&(p.lastIndex=u(f,c(p.lastIndex),h))}for(var j,y="",A=0,x=0;x<v.length;x++){O=v[x];for(var N=String(O[0]),w=l(s(o(O.index),f.length),0),C=[],S=1;S<O.length;S++)C.push(void 0===(j=O[S])?j:String(j));var E=O.groups;if(b){var k=[N].concat(C,w,f);void 0!==E&&k.push(E);var T=String(e.apply(void 0,k))}else T=g(N,f,w,C,E,e);w>=A&&(y+=f.slice(A,w)+T,A=w+N.length)}return y+f.slice(A)}];function g(t,e,n,c,o,u){var i=n+t.length,l=c.length,s=b;return void 0!==o&&(o=a(o),s=f),r.call(u,s,(function(r,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(i);case"<":u=o[a.slice(1,-1)];break;default:var s=+a;if(0===s)return r;if(s>l){var f=p(s/10);return 0===f?r:f<=l?void 0===c[f-1]?a.charAt(1):c[f-1]+a.charAt(1):r}u=c[s-1]}return void 0===u?"":u}))}}))},144:function(t,e,r){var n=r(52);n(n.S,"Object",{setPrototypeOf:r(171).set})},145:function(t,e){e.f=Object.getOwnPropertySymbols},147:function(t,e,r){var n=r(58),a=r(11)("toStringTag"),c="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(r){}}(e=Object(t),a))?r:c?n(e):"Object"==(o=n(e))&&"function"==typeof e.callee?"Arguments":o}},148:function(t,e,r){"use strict";var n,a,c=r(142),o=RegExp.prototype.exec,u=String.prototype.replace,i=o,l=(n=/a/,a=/b*/g,o.call(n,"a"),o.call(a,"a"),0!==n.lastIndex||0!==a.lastIndex),s=void 0!==/()??/.exec("")[1];(l||s)&&(i=function(t){var e,r,n,a,i=this;return s&&(r=new RegExp("^"+i.source+"$(?!\\s)",c.call(i))),l&&(e=i.lastIndex),n=o.call(i,t),l&&n&&(i.lastIndex=i.global?n.index+n[0].length:e),s&&n&&n.length>1&&u.call(n[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(n[a]=void 0)})),n}),t.exports=i},150:function(t,e,r){"use strict";var n=r(12),a=r(36),c=r(145),o=r(140),u=r(54),i=r(57),l=Object.assign;t.exports=!l||r(35)((function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=l({},t)[r]||Object.keys(l({},e)).join("")!=n}))?function(t,e){for(var r=u(t),l=arguments.length,s=1,p=c.f,f=o.f;l>s;)for(var b,d=i(arguments[s++]),g=p?a(d).concat(p(d)):a(d),m=g.length,h=0;m>h;)b=g[h++],n&&!f.call(d,b)||(r[b]=d[b]);return r}:l},151:function(t,e,r){"use strict";var n=r(52),a=r(61),c=r(54),o=r(35),u=[].sort,i=[1,2,3];n(n.P+n.F*(o((function(){i.sort(void 0)}))||!o((function(){i.sort(null)}))||!r(164)(u)),"Array",{sort:function(t){return void 0===t?u.call(c(this)):u.call(c(this),a(t))}})},152:function(t,e,r){"use strict";r(170);var n=r(19),a=r(142),c=r(12),o=/./.toString,u=function(t){r(20)(RegExp.prototype,"toString",t,!0)};r(35)((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?u((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!c&&t instanceof RegExp?a.call(t):void 0)})):"toString"!=o.name&&u((function(){return o.call(this)}))},156:function(t,e,r){"use strict";r.d(e,"a",(function(){return p}));r(151),r(143),r(152),r(135),r(159),r(136),r(144);var n,a=r(139),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},u=function(t){function e(r,n,a,c){var o=t.call(this)||this;return o.message=r,o.expected=n,o.found=a,o.location=c,o.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,e),o}return c(e,t),e.buildMessage=function(t,e){function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function n(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function c(t){switch(t.type){case"literal":return'"'+n(t.text)+'"';case"class":var e=t.parts.map((function(t){return Array.isArray(t)?a(t[0])+"-"+a(t[1]):a(t)}));return"["+(t.inverted?"^":"")+e+"]";case"any":return"any character";case"end":return"end of input";case"other":return t.description}}return"Expected "+function(t){var e,r,n=t.map(c);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+(((o=e)?'"'+n(o)+'"':"end of input")+" found.");var o},e}(Error);var i=function(t,e){e=void 0!==e?e:{};var r,n={},c={start:kt},i=kt,l=At("#",!1),s=Nt("tagElement"),p=At("<",!1),f=At("/>",!1),b=At(">",!1),d=function(t){return Qt.pop(),!0},g=At("</",!1),m=Nt("argumentElement"),h=At("{",!1),v=At("}",!1),O=Nt("numberSkeletonId"),j=/^['\/{}]/,y=xt(["'","/","{","}"],!1,!1),A={type:"any"},x=Nt("numberSkeletonTokenOption"),N=At("/",!1),w=Nt("numberSkeletonToken"),C=At("::",!1),S=function(t){return Qt.pop(),t.replace(/\s*$/,"")},E=At(",",!1),k=At("number",!1),T=function(t,e,r){return o({type:"number"===e?a.a.number:"date"===e?a.a.date:a.a.time,style:r&&r[2],value:t},te())},F=At("'",!1),_=/^[^']/,P=xt(["'"],!0,!1),M=/^[^a-zA-Z'{}]/,I=xt([["a","z"],["A","Z"],"'","{","}"],!0,!1),D=/^[a-zA-Z]/,R=xt([["a","z"],["A","Z"]],!1,!1),z=At("date",!1),B=At("time",!1),$=At("plural",!1),U=At("selectordinal",!1),H=At("offset:",!1),J=At("select",!1),Z=At("=",!1),L=Nt("whitespace"),X=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,G=xt([["\t","\r"]," ","\x85","\xa0","\u1680",["\u2000","\u200a"],"\u2028","\u2029","\u202f","\u205f","\u3000"],!1,!1),q=Nt("syntax pattern"),K=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,V=xt([["!","/"],[":","@"],["[","^"],"`",["{","~"],["\xa1","\xa7"],"\xa9","\xab","\xac","\xae","\xb0","\xb1","\xb6","\xbb","\xbf","\xd7","\xf7",["\u2010","\u2027"],["\u2030","\u203e"],["\u2041","\u2053"],["\u2055","\u205e"],["\u2190","\u245f"],["\u2500","\u2775"],["\u2794","\u2bff"],["\u2e00","\u2e7f"],["\u3001","\u3003"],["\u3008","\u3020"],"\u3030","\ufd3e","\ufd3f","\ufe45","\ufe46"],!1,!1),Q=Nt("optional whitespace"),W=Nt("number"),Y=At("-",!1),tt=(Nt("apostrophe"),Nt("double apostrophes")),et=At("''",!1),rt=At("\n",!1),nt=Nt("argNameOrNumber"),at=Nt("validTag"),ct=Nt("argNumber"),ot=At("0",!1),ut=/^[1-9]/,it=xt([["1","9"]],!1,!1),lt=/^[0-9]/,st=xt([["0","9"]],!1,!1),pt=Nt("argName"),ft=Nt("tagName"),bt=0,dt=0,gt=[{line:1,column:1}],mt=0,ht=[],vt=0;if(void 0!==e.startRule){if(!(e.startRule in c))throw new Error("Can't start parsing from rule \""+e.startRule+'".');i=c[e.startRule]}function Ot(){return t.substring(dt,bt)}function jt(){return Ct(dt,bt)}function yt(t,e){throw function(t,e){return new u(t,[],"",e)}(t,e=void 0!==e?e:Ct(dt,bt))}function At(t,e){return{type:"literal",text:t,ignoreCase:e}}function xt(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function Nt(t){return{type:"other",description:t}}function wt(e){var r,n=gt[e];if(n)return n;for(r=e-1;!gt[r];)r--;for(n={line:(n=gt[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return gt[e]=n,n}function Ct(t,e){var r=wt(t),n=wt(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function St(t){bt<mt||(bt>mt&&(mt=bt,ht=[]),ht.push(t))}function Et(t,e,r){return new u(u.buildMessage(t,e),t,e,r)}function kt(){return Tt()}function Tt(){var t,e;for(t=[],e=Ft();e!==n;)t.push(e),e=Ft();return t}function Ft(){var e;return(e=function(){var t,e;t=bt,(e=_t())!==n&&(dt=t,r=e,e=o({type:a.a.literal,value:r},te()));var r;return t=e}())===n&&(e=function(){var e,r,c,u;vt++,e=bt,123===t.charCodeAt(bt)?(r="{",bt++):(r=n,0===vt&&St(h));r!==n&&Ht()!==n&&(c=Gt())!==n&&Ht()!==n?(125===t.charCodeAt(bt)?(u="}",bt++):(u=n,0===vt&&St(v)),u!==n?(dt=e,i=c,r=o({type:a.a.argument,value:i},te()),e=r):(bt=e,e=n)):(bt=e,e=n);var i;vt--,e===n&&(r=n,0===vt&&St(m));return e}())===n&&(e=function(){var e;(e=function(){var e,r,a,c,u,i,l,s,p;e=bt,123===t.charCodeAt(bt)?(r="{",bt++):(r=n,0===vt&&St(h));r!==n&&Ht()!==n&&(a=Gt())!==n&&Ht()!==n?(44===t.charCodeAt(bt)?(c=",",bt++):(c=n,0===vt&&St(E)),c!==n&&Ht()!==n?("number"===t.substr(bt,6)?(u="number",bt+=6):(u=n,0===vt&&St(k)),u!==n&&Ht()!==n?(i=bt,44===t.charCodeAt(bt)?(l=",",bt++):(l=n,0===vt&&St(E)),l!==n&&(s=Ht())!==n&&(p=function(){var e,r,a;e=bt,"::"===t.substr(bt,2)?(r="::",bt+=2):(r=n,0===vt&&St(C));r!==n&&(a=function(){var t,e,r;if(t=bt,e=[],(r=It())!==n)for(;r!==n;)e.push(r),r=It();else e=n;e!==n&&(dt=t,e=o({type:0,tokens:e},te()));return t=e}())!==n?(dt=e,e=r=a):(bt=e,e=n);e===n&&(e=bt,dt=bt,Qt.push("numberArgStyle"),(r=(r=!0)?void 0:n)!==n&&(a=_t())!==n?(dt=e,r=S(a),e=r):(bt=e,e=n));return e}())!==n?i=l=[l,s,p]:(bt=i,i=n),i===n&&(i=null),i!==n&&(l=Ht())!==n?(125===t.charCodeAt(bt)?(s="}",bt++):(s=n,0===vt&&St(v)),s!==n?(dt=e,r=T(a,u,i),e=r):(bt=e,e=n)):(bt=e,e=n)):(bt=e,e=n)):(bt=e,e=n)):(bt=e,e=n);return e}())===n&&(e=function(){var e,r,a,c,u,i,l,s,p;e=bt,123===t.charCodeAt(bt)?(r="{",bt++):(r=n,0===vt&&St(h));r!==n&&Ht()!==n&&(a=Gt())!==n&&Ht()!==n?(44===t.charCodeAt(bt)?(c=",",bt++):(c=n,0===vt&&St(E)),c!==n&&Ht()!==n?("date"===t.substr(bt,4)?(u="date",bt+=4):(u=n,0===vt&&St(z)),u===n&&("time"===t.substr(bt,4)?(u="time",bt+=4):(u=n,0===vt&&St(B))),u!==n&&Ht()!==n?(i=bt,44===t.charCodeAt(bt)?(l=",",bt++):(l=n,0===vt&&St(E)),l!==n&&(s=Ht())!==n&&(p=function(){var e,r,a;e=bt,"::"===t.substr(bt,2)?(r="::",bt+=2):(r=n,0===vt&&St(C));r!==n&&(a=function(){var e,r,a,c;e=bt,r=bt,a=[],(c=Dt())===n&&(c=Rt());if(c!==n)for(;c!==n;)a.push(c),(c=Dt())===n&&(c=Rt());else a=n;r=a!==n?t.substring(r,bt):a;r!==n&&(dt=e,r=o({type:1,pattern:r},te()));return e=r}())!==n?(dt=e,e=r=a):(bt=e,e=n);e===n&&(e=bt,dt=bt,Qt.push("dateOrTimeArgStyle"),(r=(r=!0)?void 0:n)!==n&&(a=_t())!==n?(dt=e,r=S(a),e=r):(bt=e,e=n));return e}())!==n?i=l=[l,s,p]:(bt=i,i=n),i===n&&(i=null),i!==n&&(l=Ht())!==n?(125===t.charCodeAt(bt)?(s="}",bt++):(s=n,0===vt&&St(v)),s!==n?(dt=e,r=T(a,u,i),e=r):(bt=e,e=n)):(bt=e,e=n)):(bt=e,e=n)):(bt=e,e=n)):(bt=e,e=n);return e}());return e}())===n&&(e=function(){var e,r,c,u,i,l,s,p,f,b,d;e=bt,123===t.charCodeAt(bt)?(r="{",bt++):(r=n,0===vt&&St(h));if(r!==n)if(Ht()!==n)if((c=Gt())!==n)if(Ht()!==n)if(44===t.charCodeAt(bt)?(u=",",bt++):(u=n,0===vt&&St(E)),u!==n)if(Ht()!==n)if("plural"===t.substr(bt,6)?(i="plural",bt+=6):(i=n,0===vt&&St($)),i===n&&("selectordinal"===t.substr(bt,13)?(i="selectordinal",bt+=13):(i=n,0===vt&&St(U))),i!==n)if(Ht()!==n)if(44===t.charCodeAt(bt)?(l=",",bt++):(l=n,0===vt&&St(E)),l!==n)if(Ht()!==n)if(s=bt,"offset:"===t.substr(bt,7)?(p="offset:",bt+=7):(p=n,0===vt&&St(H)),p!==n&&(f=Ht())!==n&&(b=Jt())!==n?s=p=[p,f,b]:(bt=s,s=n),s===n&&(s=null),s!==n)if((p=Ht())!==n){if(f=[],(b=Bt())!==n)for(;b!==n;)f.push(b),b=Bt();else f=n;f!==n&&(b=Ht())!==n?(125===t.charCodeAt(bt)?(d="}",bt++):(d=n,0===vt&&St(v)),d!==n?(dt=e,r=function(t,e,r,n){return o({type:a.a.plural,pluralType:"plural"===e?"cardinal":"ordinal",value:t,offset:r?r[2]:0,options:n.reduce((function(t,e){var r=e.id,n=e.value,a=e.location;return r in t&&yt('Duplicate option "'+r+'" in plural element: "'+Ot()+'"',jt()),t[r]={value:n,location:a},t}),{})},te())}(c,i,s,f),e=r):(bt=e,e=n)):(bt=e,e=n)}else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;return e}())===n&&(e=function(){var e,r,c,u,i,l,s,p,f;e=bt,123===t.charCodeAt(bt)?(r="{",bt++):(r=n,0===vt&&St(h));if(r!==n)if(Ht()!==n)if((c=Gt())!==n)if(Ht()!==n)if(44===t.charCodeAt(bt)?(u=",",bt++):(u=n,0===vt&&St(E)),u!==n)if(Ht()!==n)if("select"===t.substr(bt,6)?(i="select",bt+=6):(i=n,0===vt&&St(J)),i!==n)if(Ht()!==n)if(44===t.charCodeAt(bt)?(l=",",bt++):(l=n,0===vt&&St(E)),l!==n)if(Ht()!==n){if(s=[],(p=zt())!==n)for(;p!==n;)s.push(p),p=zt();else s=n;s!==n&&(p=Ht())!==n?(125===t.charCodeAt(bt)?(f="}",bt++):(f=n,0===vt&&St(v)),f!==n?(dt=e,r=function(t,e){return o({type:a.a.select,value:t,options:e.reduce((function(t,e){var r=e.id,n=e.value,a=e.location;return r in t&&yt('Duplicate option "'+r+'" in select element: "'+Ot()+'"',jt()),t[r]={value:n,location:a},t}),{})},te())}(c,s),e=r):(bt=e,e=n)):(bt=e,e=n)}else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;else bt=e,e=n;return e}())===n&&(e=function(){var e,r,c,u,i,l;vt++,e=bt,r=bt,60===t.charCodeAt(bt)?(c="<",bt++):(c=n,0===vt&&St(p));c!==n&&(u=qt())!==n&&(i=Ht())!==n?("/>"===t.substr(bt,2)?(l="/>",bt+=2):(l=n,0===vt&&St(f)),l!==n?r=c=[c,u,i,l]:(bt=r,r=n)):(bt=r,r=n);r!==n&&(dt=e,m=r,r=o({type:a.a.literal,value:m.join("")},te()));var m;(e=r)===n&&(e=bt,(r=function(){var e,r,a,c;e=bt,60===t.charCodeAt(bt)?(r="<",bt++):(r=n,0===vt&&St(p));r!==n?(dt=bt,Qt.push("openingTag"),(!0?void 0:n)!==n&&(a=qt())!==n?(62===t.charCodeAt(bt)?(c=">",bt++):(c=n,0===vt&&St(b)),c!==n?(dt=bt,(d()?void 0:n)!==n?(dt=e,e=r=a):(bt=e,e=n)):(bt=e,e=n)):(bt=e,e=n)):(bt=e,e=n);return e}())!==n&&(c=Tt())!==n&&(u=function(){var e,r,a,c;e=bt,"</"===t.substr(bt,2)?(r="</",bt+=2):(r=n,0===vt&&St(g));r!==n?(dt=bt,Qt.push("closingTag"),(!0?void 0:n)!==n&&(a=qt())!==n?(62===t.charCodeAt(bt)?(c=">",bt++):(c=n,0===vt&&St(b)),c!==n?(dt=bt,(d()?void 0:n)!==n?(dt=e,e=r=a):(bt=e,e=n)):(bt=e,e=n)):(bt=e,e=n)):(bt=e,e=n);return e}())!==n?(dt=e,v=c,(h=r)!==(O=u)&&yt('Mismatch tag "'+h+'" !== "'+O+'"',jt()),r=o({type:a.a.tag,value:h,children:v},te()),e=r):(bt=e,e=n));var h,v,O;vt--,e===n&&(r=n,0===vt&&St(s));return e}())===n&&(e=function(){var e,r;e=bt,35===t.charCodeAt(bt)?(r="#",bt++):(r=n,0===vt&&St(l));r!==n&&(dt=e,r=o({type:a.a.pound},te()));return e=r}()),e}function _t(){var t,e,r;if(t=bt,e=[],(r=Zt())===n&&(r=Lt())===n&&(r=Xt()),r!==n)for(;r!==n;)e.push(r),(r=Zt())===n&&(r=Lt())===n&&(r=Xt());else e=n;return e!==n&&(dt=t,e=e.join("")),t=e}function Pt(){var e,r,a,c,o;if(vt++,e=bt,r=[],a=bt,c=bt,vt++,(o=$t())===n&&(j.test(t.charAt(bt))?(o=t.charAt(bt),bt++):(o=n,0===vt&&St(y))),vt--,o===n?c=void 0:(bt=c,c=n),c!==n?(t.length>bt?(o=t.charAt(bt),bt++):(o=n,0===vt&&St(A)),o!==n?a=c=[c,o]:(bt=a,a=n)):(bt=a,a=n),a!==n)for(;a!==n;)r.push(a),a=bt,c=bt,vt++,(o=$t())===n&&(j.test(t.charAt(bt))?(o=t.charAt(bt),bt++):(o=n,0===vt&&St(y))),vt--,o===n?c=void 0:(bt=c,c=n),c!==n?(t.length>bt?(o=t.charAt(bt),bt++):(o=n,0===vt&&St(A)),o!==n?a=c=[c,o]:(bt=a,a=n)):(bt=a,a=n);else r=n;return e=r!==n?t.substring(e,bt):r,vt--,e===n&&(r=n,0===vt&&St(O)),e}function Mt(){var e,r,a;return vt++,e=bt,47===t.charCodeAt(bt)?(r="/",bt++):(r=n,0===vt&&St(N)),r!==n&&(a=Pt())!==n?(dt=e,e=r=a):(bt=e,e=n),vt--,e===n&&(r=n,0===vt&&St(x)),e}function It(){var t,e,r,a;if(vt++,t=bt,Ht()!==n)if((e=Pt())!==n){for(r=[],a=Mt();a!==n;)r.push(a),a=Mt();r!==n?(dt=t,t=function(t,e){return{stem:t,options:e}}(e,r)):(bt=t,t=n)}else bt=t,t=n;else bt=t,t=n;return vt--,t===n&&(n,0===vt&&St(w)),t}function Dt(){var e,r,a,c;if(e=bt,39===t.charCodeAt(bt)?(r="'",bt++):(r=n,0===vt&&St(F)),r!==n){if(a=[],(c=Zt())===n&&(_.test(t.charAt(bt))?(c=t.charAt(bt),bt++):(c=n,0===vt&&St(P))),c!==n)for(;c!==n;)a.push(c),(c=Zt())===n&&(_.test(t.charAt(bt))?(c=t.charAt(bt),bt++):(c=n,0===vt&&St(P)));else a=n;a!==n?(39===t.charCodeAt(bt)?(c="'",bt++):(c=n,0===vt&&St(F)),c!==n?e=r=[r,a,c]:(bt=e,e=n)):(bt=e,e=n)}else bt=e,e=n;if(e===n)if(e=[],(r=Zt())===n&&(M.test(t.charAt(bt))?(r=t.charAt(bt),bt++):(r=n,0===vt&&St(I))),r!==n)for(;r!==n;)e.push(r),(r=Zt())===n&&(M.test(t.charAt(bt))?(r=t.charAt(bt),bt++):(r=n,0===vt&&St(I)));else e=n;return e}function Rt(){var e,r;if(e=[],D.test(t.charAt(bt))?(r=t.charAt(bt),bt++):(r=n,0===vt&&St(R)),r!==n)for(;r!==n;)e.push(r),D.test(t.charAt(bt))?(r=t.charAt(bt),bt++):(r=n,0===vt&&St(R));else e=n;return e}function zt(){var e,r,a,c,u,i,l;return e=bt,Ht()!==n&&(r=Vt())!==n&&Ht()!==n?(123===t.charCodeAt(bt)?(a="{",bt++):(a=n,0===vt&&St(h)),a!==n?(dt=bt,Qt.push("select"),(!0?void 0:n)!==n&&(c=Tt())!==n?(125===t.charCodeAt(bt)?(u="}",bt++):(u=n,0===vt&&St(v)),u!==n?(dt=e,i=r,l=c,Qt.pop(),e=o({id:i,value:l},te())):(bt=e,e=n)):(bt=e,e=n)):(bt=e,e=n)):(bt=e,e=n),e}function Bt(){var e,r,a,c,u,i,l;return e=bt,Ht()!==n&&(r=function(){var e,r,a,c;return e=bt,r=bt,61===t.charCodeAt(bt)?(a="=",bt++):(a=n,0===vt&&St(Z)),a!==n&&(c=Jt())!==n?r=a=[a,c]:(bt=r,r=n),(e=r!==n?t.substring(e,bt):r)===n&&(e=Vt()),e}())!==n&&Ht()!==n?(123===t.charCodeAt(bt)?(a="{",bt++):(a=n,0===vt&&St(h)),a!==n?(dt=bt,Qt.push("plural"),(!0?void 0:n)!==n&&(c=Tt())!==n?(125===t.charCodeAt(bt)?(u="}",bt++):(u=n,0===vt&&St(v)),u!==n?(dt=e,i=r,l=c,Qt.pop(),e=o({id:i,value:l},te())):(bt=e,e=n)):(bt=e,e=n)):(bt=e,e=n)):(bt=e,e=n),e}function $t(){var e;return vt++,X.test(t.charAt(bt))?(e=t.charAt(bt),bt++):(e=n,0===vt&&St(G)),vt--,e===n&&(n,0===vt&&St(L)),e}function Ut(){var e;return vt++,K.test(t.charAt(bt))?(e=t.charAt(bt),bt++):(e=n,0===vt&&St(V)),vt--,e===n&&(n,0===vt&&St(q)),e}function Ht(){var e,r,a;for(vt++,e=bt,r=[],a=$t();a!==n;)r.push(a),a=$t();return e=r!==n?t.substring(e,bt):r,vt--,e===n&&(r=n,0===vt&&St(Q)),e}function Jt(){var e,r,a,c,o;return vt++,e=bt,45===t.charCodeAt(bt)?(r="-",bt++):(r=n,0===vt&&St(Y)),r===n&&(r=null),r!==n&&(a=Kt())!==n?(dt=e,c=r,e=r=(o=a)?c?-o:o:0):(bt=e,e=n),vt--,e===n&&(r=n,0===vt&&St(W)),e}function Zt(){var e,r;return vt++,e=bt,"''"===t.substr(bt,2)?(r="''",bt+=2):(r=n,0===vt&&St(et)),r!==n&&(dt=e,r="'"),vt--,(e=r)===n&&(r=n,0===vt&&St(tt)),e}function Lt(){var e,r,a,c,o,u;if(e=bt,39===t.charCodeAt(bt)?(r="'",bt++):(r=n,0===vt&&St(F)),r!==n)if((a=function(){var e,r,a,c;e=bt,r=bt,t.length>bt?(a=t.charAt(bt),bt++):(a=n,0===vt&&St(A));a!==n?(dt=bt,(c=(c="<"===(o=a)||">"===o||"{"===o||"}"===o||Yt()&&"#"===o)?void 0:n)!==n?r=a=[a,c]:(bt=r,r=n)):(bt=r,r=n);var o;e=r!==n?t.substring(e,bt):r;return e}())!==n){for(c=bt,o=[],"''"===t.substr(bt,2)?(u="''",bt+=2):(u=n,0===vt&&St(et)),u===n&&(_.test(t.charAt(bt))?(u=t.charAt(bt),bt++):(u=n,0===vt&&St(P)));u!==n;)o.push(u),"''"===t.substr(bt,2)?(u="''",bt+=2):(u=n,0===vt&&St(et)),u===n&&(_.test(t.charAt(bt))?(u=t.charAt(bt),bt++):(u=n,0===vt&&St(P)));(c=o!==n?t.substring(c,bt):o)!==n?(39===t.charCodeAt(bt)?(o="'",bt++):(o=n,0===vt&&St(F)),o===n&&(o=null),o!==n?(dt=e,e=r=a+c.replace("''","'")):(bt=e,e=n)):(bt=e,e=n)}else bt=e,e=n;else bt=e,e=n;return e}function Xt(){var e,r,a,c,o;return e=bt,r=bt,t.length>bt?(a=t.charAt(bt),bt++):(a=n,0===vt&&St(A)),a!==n?(dt=bt,(c=(c=!("<"===(o=a)||"{"===o||Yt()&&"#"===o||Wt()&&"}"===o||Wt()&&">"===o))?void 0:n)!==n?r=a=[a,c]:(bt=r,r=n)):(bt=r,r=n),r===n&&(10===t.charCodeAt(bt)?(r="\n",bt++):(r=n,0===vt&&St(rt))),e=r!==n?t.substring(e,bt):r}function Gt(){var e,r;return vt++,e=bt,(r=Kt())===n&&(r=Vt()),e=r!==n?t.substring(e,bt):r,vt--,e===n&&(r=n,0===vt&&St(nt)),e}function qt(){var e,r;return vt++,e=bt,(r=Kt())===n&&(r=function(){var e,r,a,c,o;vt++,e=bt,r=[],45===t.charCodeAt(bt)?(a="-",bt++):(a=n,0===vt&&St(Y));a===n&&(a=bt,c=bt,vt++,(o=$t())===n&&(o=Ut()),vt--,o===n?c=void 0:(bt=c,c=n),c!==n?(t.length>bt?(o=t.charAt(bt),bt++):(o=n,0===vt&&St(A)),o!==n?a=c=[c,o]:(bt=a,a=n)):(bt=a,a=n));if(a!==n)for(;a!==n;)r.push(a),45===t.charCodeAt(bt)?(a="-",bt++):(a=n,0===vt&&St(Y)),a===n&&(a=bt,c=bt,vt++,(o=$t())===n&&(o=Ut()),vt--,o===n?c=void 0:(bt=c,c=n),c!==n?(t.length>bt?(o=t.charAt(bt),bt++):(o=n,0===vt&&St(A)),o!==n?a=c=[c,o]:(bt=a,a=n)):(bt=a,a=n));else r=n;e=r!==n?t.substring(e,bt):r;vt--,e===n&&(r=n,0===vt&&St(ft));return e}()),e=r!==n?t.substring(e,bt):r,vt--,e===n&&(r=n,0===vt&&St(at)),e}function Kt(){var e,r,a,c,o;if(vt++,e=bt,48===t.charCodeAt(bt)?(r="0",bt++):(r=n,0===vt&&St(ot)),r!==n&&(dt=e,r=0),(e=r)===n){if(e=bt,r=bt,ut.test(t.charAt(bt))?(a=t.charAt(bt),bt++):(a=n,0===vt&&St(it)),a!==n){for(c=[],lt.test(t.charAt(bt))?(o=t.charAt(bt),bt++):(o=n,0===vt&&St(st));o!==n;)c.push(o),lt.test(t.charAt(bt))?(o=t.charAt(bt),bt++):(o=n,0===vt&&St(st));c!==n?r=a=[a,c]:(bt=r,r=n)}else bt=r,r=n;r!==n&&(dt=e,r=parseInt(r.join(""),10)),e=r}return vt--,e===n&&(r=n,0===vt&&St(ct)),e}function Vt(){var e,r,a,c,o;if(vt++,e=bt,r=[],a=bt,c=bt,vt++,(o=$t())===n&&(o=Ut()),vt--,o===n?c=void 0:(bt=c,c=n),c!==n?(t.length>bt?(o=t.charAt(bt),bt++):(o=n,0===vt&&St(A)),o!==n?a=c=[c,o]:(bt=a,a=n)):(bt=a,a=n),a!==n)for(;a!==n;)r.push(a),a=bt,c=bt,vt++,(o=$t())===n&&(o=Ut()),vt--,o===n?c=void 0:(bt=c,c=n),c!==n?(t.length>bt?(o=t.charAt(bt),bt++):(o=n,0===vt&&St(A)),o!==n?a=c=[c,o]:(bt=a,a=n)):(bt=a,a=n);else r=n;return e=r!==n?t.substring(e,bt):r,vt--,e===n&&(r=n,0===vt&&St(pt)),e}var Qt=["root"];function Wt(){return Qt.length>1}function Yt(){return"plural"===Qt[Qt.length-1]}function te(){return e&&e.captureLocation?{location:jt()}:{}}if((r=i())!==n&&bt===t.length)return r;throw r!==n&&bt<t.length&&St({type:"end"}),Et(ht,mt<t.length?t.charAt(mt):null,mt<t.length?Ct(mt,mt+1):Ct(mt,mt))},l=(r(13),r(53),r(138),function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),a=0;for(e=0;e<r;e++)for(var c=arguments[e],o=0,u=c.length;o<u;o++,a++)n[a]=c[o];return n}),s=/(^|[^\\])#/g;function p(t,e){var r=i(t,e);return e&&!1===e.normalizeHashtagInPlural||function t(e){e.forEach((function(e){(Object(a.h)(e)||Object(a.j)(e))&&Object.keys(e.options).forEach((function(r){for(var n,c=e.options[r],o=-1,u=void 0,p=0;p<c.value.length;p++){var f=c.value[p];if(Object(a.e)(f)&&s.test(f.value)){o=p,u=f;break}}if(u){var b=u.value.replace(s,"$1{"+e.value+", number}"),d=i(b);(n=c.value).splice.apply(n,l([o,1],d))}t(c.value)}))}))}(r),r}},159:function(t,e,r){var n=r(21).f,a=Function.prototype,c=/^\s*function ([^ (]*)/;"name"in a||r(12)&&n(a,"name",{configurable:!0,get:function(){try{return(""+this).match(c)[1]}catch(t){return""}}})},160:function(t,e,r){var n=r(140),a=r(39),c=r(24),o=r(56),u=r(14),i=r(59),l=Object.getOwnPropertyDescriptor;e.f=r(12)?l:function(t,e){if(t=c(t),e=o(e,!0),i)try{return l(t,e)}catch(r){}if(u(t,e))return a(!n.f.call(t,e),t[e])}},164:function(t,e,r){"use strict";var n=r(35);t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},165:function(t,e,r){"use strict";var n=r(166)(!0);t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},166:function(t,e,r){var n=r(38),a=r(37);t.exports=function(t){return function(e,r){var c,o,u=String(a(e)),i=n(r),l=u.length;return i<0||i>=l?t?"":void 0:(c=u.charCodeAt(i))<55296||c>56319||i+1===l||(o=u.charCodeAt(i+1))<56320||o>57343?t?u.charAt(i):c:t?u.slice(i,i+2):o-56320+(c-55296<<10)+65536}}},167:function(t,e,r){"use strict";var n=r(147),a=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var c=r.call(t,e);if("object"!=typeof c)throw new TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},168:function(t,e,r){"use strict";r(169);var n=r(20),a=r(8),c=r(35),o=r(37),u=r(11),i=r(148),l=u("species"),s=!c((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),p=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var f=u(t),b=!c((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),d=b?!c((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[l]=function(){return r}),r[f](""),!e})):void 0;if(!b||!d||"replace"===t&&!s||"split"===t&&!p){var g=/./[f],m=r(o,f,""[t],(function(t,e,r,n,a){return e.exec===i?b&&!a?{done:!0,value:g.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),h=m[0],v=m[1];n(String.prototype,t,h),a(RegExp.prototype,f,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}}},169:function(t,e,r){"use strict";var n=r(148);r(52)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},170:function(t,e,r){r(12)&&"g"!=/./g.flags&&r(21).f(RegExp.prototype,"flags",{configurable:!0,get:r(142)})},171:function(t,e,r){var n=r(23),a=r(19),c=function(t,e){if(a(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=r(60)(Function.call,r(160).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,r){return c(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:c}},172:function(t,e,r){var n=r(52),a=r(22),c=r(35);t.exports=function(t,e){var r=(a.Object||{})[t]||Object[t],o={};o[t]=e(r),n(n.S+n.F*c((function(){r(1)})),"Object",o)}}}]);